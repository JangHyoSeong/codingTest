# [25187] κ³ μΈλ¬Όμ΄ μ‹«μ–΄μ”

### **λ‚μ΄λ„**
κ³¨λ“ 4
## **π“λ¬Έμ **
μ¬ν•μ΄λ” μ²­μ •μλ¥Ό μΆ‹μ•„ν•κ³  κ³ μΈλ¬Όμ„ μ‹«μ–΄ν•λ‹¤. μ¤λλ„ μ²­μ •μλ¥Ό κµ¬ν•κΈ° μ„ν•΄ λ¬Όνƒ±ν¬λ“¤μ΄ μλ” λ§μ„μ— λ°©λ¬Έν•λ‹¤.

λ§μ„μ—λ” 
$N$κ°μ λ¬Όνƒ±ν¬κ°€ μ΅΄μ¬ν•κ³ , κ° λ¬Όνƒ±ν¬λ” μ²­μ •μ λλ” κ³ μΈλ¬Όμ„ μ €μ¥ν•κ³  μλ‹¤. κ·Έλ¦¬κ³  λ¬Όνƒ±ν¬λ” κ³µκΈ‰μ νΈμλ¥Ό μ„ν•΄ 
$M$κ°μ νμ΄ν”„λ΅ μ„λ΅ μ—°κ²°λμ–΄ μλ‹¤.

μ²­μ •μλ¥Ό μ–»κΈ° μ„ν•΄ 
$K$λ² λ¬Όνƒ±ν¬μ— λ°©λ¬Έν–μ„ λ•, 
$K$λ² λ¬Όνƒ±ν¬μ™€ 
$K$λ² λ¬Όνƒ±ν¬μ—μ„ 
$0$κ° μ΄μƒμ νμ΄ν”„λ¥Ό κ±°μ³ μ΄λ™ κ°€λ¥ν• λ¬Όνƒ±ν¬ μ¤‘, μ²­μ •μκ°€ λ‹΄κΈ΄ λ¬Όνƒ±ν¬μ μκ°€ κ³ μΈλ¬Όμ΄ λ‹΄κΈ΄ λ¬Όνƒ±ν¬μ μλ³΄λ‹¤ λ” λ§μ€ κ²½μ° μ²­μ •μλ¥Ό μ–»μ„ μ μλ‹¤.

λ°©λ¬Έν•  μμ •μΈ λ¬Όνƒ±ν¬μ— λ€ν• μ •λ³΄κ°€ μ£Όμ–΄μ§ λ•λ§λ‹¤, μ²­μ •μλ¥Ό μ–»μ„ μ μλ”μ§€ κµ¬ν•΄λ³΄μ. 
### **μ…λ ¥**
μ²«μ§Έ μ¤„μ— λ¬Όνƒ±ν¬μ μ 
$N(1 \leq N \leq 100\,000)$κ³Ό νμ΄ν”„μ μ 
$M(0 \leq M \leq 200\,000)$, κ·Έλ¦¬κ³  λ¬Όνƒ±ν¬μ— λ°©λ¬Έν•  νμ 
$Q(1 \leq Q \leq 100\,000)$κ°€ μ£Όμ–΄μ§„λ‹¤. 

λ‘μ§Έ μ¤„μ— 
$1$λ²λ¶€ν„° 
$N$λ² λ¬Όνƒ±ν¬κΉμ§€ μμ„λ€λ΅ λ“¤μ–΄μλ” λ¬Όμ μΆ…λ¥κ°€ μ£Όμ–΄μ§„λ‹¤. μ²­μ •μλ” 1, κ³ μΈλ¬Όμ€ 0μΌλ΅ μ£Όμ–΄μ§„λ‹¤. 

λ‹¤μ 
$3$λ²μ§Έλ¶€ν„° 
$M+2$λ²μ§Έ μ¤„κΉμ§€ νμ΄ν”„κ°€ μ—°κ²°ν•λ” λ‘ λ¬Όνƒ±ν¬μ λ²νΈ 
$u, v(1\leq u, v \leq N, u \neq v)$κ°€ μ£Όμ–΄μ§„λ‹¤. κ°™μ€ λ‘ λ¬Όνƒ±ν¬λ¥Ό μ—°κ²°ν•λ” νμ΄ν”„κ°€ μ—¬λ¬ κ° μ΅΄μ¬ν•  μ μλ‹¤. 

β€
$M+3$λ²μ§Έλ¶€ν„° 
$M+Q+2$λ²μ§Έ μ¤„κΉμ§€ λ°©λ¬Έν•  λ¬Όνƒ±ν¬μ λ²νΈ 
$K(1 \leq K \leq N)$κ°€ μ£Όμ–΄μ§„λ‹¤.  
### **μ¶λ ¥**
β€
$Q$κ°μ μ¤„μ— κ° λ¬Όνƒ±ν¬μ— λ°©λ¬Έν–μ„ λ• μ²­μ •μλ¥Ό μ–»μ„ μ μλ‹¤λ©΄ 1μ„, μ•„λ‹λ©΄ 0μ„ μ£Όμ–΄μ§„ μ •λ³΄ μμ„λ€λ΅ μ¶λ ¥ν•λ‹¤. 
### **μμ μ…μ¶λ ¥**

**μμ  μ…λ ¥1**

```
5 3 3
1 0 1 1 0
1 2
3 4
4 5
1
5
4
```

**μμ  μ¶λ ¥1**

```
0
1
1
```

**μμ  μ…λ ¥2**

```
5 5 3
1 0 1 1 0
1 2
1 3
1 4
2 3
3 4
1
5
4
```

**μμ  μ¶λ ¥2**

```
1
0
1
```
### **μ¶μ²**

## **π§CODE REVIEW**

### **π§Ύλ‚μ ν’€μ΄**

```python
import sys

N, M, Q = map(int, sys.stdin.readline().rstrip().split())
water = list(map(int, sys.stdin.readline().rstrip().split()))
pipes = [list(map(int, sys.stdin.readline().rstrip().split())) for _ in range(M)]
queries = [int(sys.stdin.readline().rstrip()) for _ in range(Q)]

parent = list(range(N))
size = [1] * N
clean_count = [water[i] for i in range(N)]
dirty_count = [1-water[i] for i in range(N)]

def find(x):
    if parent[x] != x:
        parent[x] = find(parent[x])
    return parent[x]

def union(x, y):
    root_x = find(x)
    root_y = find(y)

    if root_x != root_y:
        if size[root_x] < size[root_y]:
            root_x, root_y = root_y, root_x
        parent[root_y] = root_x
        size[root_x] += size[root_y]
        clean_count[root_x] += clean_count[root_y]
        dirty_count[root_x] += dirty_count[root_y]

for pipe in pipes:
    union(pipe[0]-1, pipe[1]-1)

for query in queries:
    query -= 1
    root_query = find(query)

    if clean_count[root_query] > dirty_count[root_query]:
        print(1)
    else:
        print(0)
```

κ²°κ³Ό	| λ©”λ¨λ¦¬(KB) |	μ‹κ°„(ms) |	μ–Έμ–΄ |	μ½”λ“ κΈΈμ΄(B)
:----:|:-----:|:-----:|:-----:|:--------:
μ •λ‹µ|142948|408|PyPy3|1063
#### **π“ν•΄μ„¤**

**μ•κ³ λ¦¬μ¦**
```
1. μ λ‹μ¨ νμΈλ“
```

### **λ‹¤λ¥Έ ν’€μ΄**

```python
import sys
input = sys.stdin.readline

def find_root(n, R):
    if R[n] < 0:
        return n
    R[n] = find_root(R[n], R)
    return R[n]

def solve():
    N, M, Q = map(int, input().split())
    water = [-1] + [*map(int, input().split())]
    R = [-1] * (N + 1)
    for _ in range(M):
        u, v = map(int, input().split())
        ur = find_root(u, R)
        vr = find_root(v, R)
        if ur < vr:
            water[ur] += water[vr]
            R[ur] += R[vr]
            R[vr] = ur
        elif ur > vr:
            water[vr] += water[ur]
            R[vr] += R[ur]
            R[ur] = vr
    for _ in range(Q):
        K = int(input())
        kr = find_root(K, R)
        print(1 if -R[kr] // 2 < water[kr] else 0)

solve()
```

μ•„μ΄λ”” | λ©”λ¨λ¦¬(KB) |	μ‹κ°„(ms) |	μ–Έμ–΄ |	μ½”λ“ κΈΈμ΄(B) 
:-----:|:-----:|:-----:|:----:|:--------:
tkqmfp26|33832|308|Python3|735
#### **π“ν•΄μ„¤**

```python
import sys

# μ…λ ¥λ°›κΈ°
N, M, Q = map(int, sys.stdin.readline().rstrip().split())
water = list(map(int, sys.stdin.readline().rstrip().split()))
pipes = [list(map(int, sys.stdin.readline().rstrip().split())) for _ in range(M)]
queries = [int(sys.stdin.readline().rstrip()) for _ in range(Q)]

# λ¶„λ¦¬μ§‘ν•©μ λ¶€λ¨λ¥Ό μ €μ¥ν•  λ¦¬μ¤νΈ
parent = list(range(N))

# νμ΄ν”„λ΅ μ—°κ²°λ λ¬Όνƒ±ν¬μ μλ¥Ό μ €μ¥ν•  λ¦¬μ¤νΈ
size = [1] * N

# μ²­μ •μμ™€ κ³ μΈλ¬Όμ κ°μλ¥Ό μ €μ¥ν•  λ¦¬μ¤νΈ
clean_count = [water[i] for i in range(N)]
dirty_count = [1-water[i] for i in range(N)]

# μ…λ ¥λ°›μ€ λ…Έλ“μ λ¶€λ¨λ¥Ό μ°Ύλ” ν•¨μ
def find(x):
    if parent[x] != x:
        parent[x] = find(parent[x])
    return parent[x]

# λ‘ λ…Έλ“λ¥Ό  ν•©μΉλ” ν•¨μ
def union(x, y):

    # λ‘ λ…Έλ“μ λ¶€λ¨λ¥Ό μ°Ύμ
    root_x = find(x)
    root_y = find(y)

    # κ°™μ€ μ§‘ν•©μ΄ μ•„λ‹λΌλ©΄
    if root_x != root_y:

        # ν•­μƒ ν° λ…Έλ“κ°€ μ•μΌλ΅ κ°€κ²λ” ν•¨
        if size[root_x] < size[root_y]:
            root_x, root_y = root_y, root_x

        # λ¶€λ¨, ν¬κΈ°, μ²­μ •μ, κ³ μΈλ¬Όμ μ«μλ¥Ό ν•©μ³μ¤
        parent[root_y] = root_x
        size[root_x] += size[root_y]
        clean_count[root_x] += clean_count[root_y]
        dirty_count[root_x] += dirty_count[root_y]

for pipe in pipes:
    union(pipe[0]-1, pipe[1]-1)

for query in queries:
    query -= 1
    root_query = find(query)

    # μ²­μ •μκ°€ κ³ μΈλ¬Όλ³΄λ‹¤ λ§μΌλ©΄ 1μ¶λ ¥, μ•„λ‹λΌλ©΄ 0μ¶λ ¥
    if clean_count[root_query] > dirty_count[root_query]:
        print(1)
    else:
        print(0)
```

### **π”–μ •λ¦¬**

1. λ°°μ΄μ 