# [15686] ì¹˜í‚¨ ë°°ë‹¬

### **ë‚œì´ë„**
ê³¨ë“œ 5
## **ðŸ“ë¬¸ì œ**
í¬ê¸°ê°€ NÃ—Nì¸ ë„ì‹œê°€ ìžˆë‹¤. ë„ì‹œëŠ” 1Ã—1í¬ê¸°ì˜ ì¹¸ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì ¸ ìžˆë‹¤. ë„ì‹œì˜ ê° ì¹¸ì€ ë¹ˆ ì¹¸, ì¹˜í‚¨ì§‘, ì§‘ ì¤‘ í•˜ë‚˜ì´ë‹¤. ë„ì‹œì˜ ì¹¸ì€ (r, c)ì™€ ê°™ì€ í˜•íƒœë¡œ ë‚˜íƒ€ë‚´ê³ , rí–‰ cì—´ ë˜ëŠ” ìœ„ì—ì„œë¶€í„° rë²ˆì§¸ ì¹¸, ì™¼ìª½ì—ì„œë¶€í„° cë²ˆì§¸ ì¹¸ì„ ì˜ë¯¸í•œë‹¤. rê³¼ cëŠ” 1ë¶€í„° ì‹œìž‘í•œë‹¤.

ì´ ë„ì‹œì— ì‚¬ëŠ” ì‚¬ëžŒë“¤ì€ ì¹˜í‚¨ì„ ë§¤ìš° ì¢‹ì•„í•œë‹¤. ë”°ë¼ì„œ, ì‚¬ëžŒë“¤ì€ "ì¹˜í‚¨ ê±°ë¦¬"ë¼ëŠ” ë§ì„ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤. ì¹˜í‚¨ ê±°ë¦¬ëŠ” ì§‘ê³¼ ê°€ìž¥ ê°€ê¹Œìš´ ì¹˜í‚¨ì§‘ ì‚¬ì´ì˜ ê±°ë¦¬ì´ë‹¤. ì¦‰, ì¹˜í‚¨ ê±°ë¦¬ëŠ” ì§‘ì„ ê¸°ì¤€ìœ¼ë¡œ ì •í•´ì§€ë©°, ê°ê°ì˜ ì§‘ì€ ì¹˜í‚¨ ê±°ë¦¬ë¥¼ ê°€ì§€ê³  ìžˆë‹¤. ë„ì‹œì˜ ì¹˜í‚¨ ê±°ë¦¬ëŠ” ëª¨ë“  ì§‘ì˜ ì¹˜í‚¨ ê±°ë¦¬ì˜ í•©ì´ë‹¤.

ìž„ì˜ì˜ ë‘ ì¹¸ (r1, c1)ê³¼ (r2, c2) ì‚¬ì´ì˜ ê±°ë¦¬ëŠ” |r1-r2| + |c1-c2|ë¡œ êµ¬í•œë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ì•„ëž˜ì™€ ê°™ì€ ì§€ë„ë¥¼ ê°–ëŠ” ë„ì‹œë¥¼ ì‚´íŽ´ë³´ìž.
```
0 2 0 1 0
1 0 1 0 0
0 0 0 0 0
0 0 0 1 1
0 0 0 1 2
```
0ì€ ë¹ˆ ì¹¸, 1ì€ ì§‘, 2ëŠ” ì¹˜í‚¨ì§‘ì´ë‹¤.

(2, 1)ì— ìžˆëŠ” ì§‘ê³¼ (1, 2)ì— ìžˆëŠ” ì¹˜í‚¨ì§‘ê³¼ì˜ ê±°ë¦¬ëŠ” |2-1| + |1-2| = 2, (5, 5)ì— ìžˆëŠ” ì¹˜í‚¨ì§‘ê³¼ì˜ ê±°ë¦¬ëŠ” |2-5| + |1-5| = 7ì´ë‹¤. ë”°ë¼ì„œ, (2, 1)ì— ìžˆëŠ” ì§‘ì˜ ì¹˜í‚¨ ê±°ë¦¬ëŠ” 2ì´ë‹¤.

(5, 4)ì— ìžˆëŠ” ì§‘ê³¼ (1, 2)ì— ìžˆëŠ” ì¹˜í‚¨ì§‘ê³¼ì˜ ê±°ë¦¬ëŠ” |5-1| + |4-2| = 6, (5, 5)ì— ìžˆëŠ” ì¹˜í‚¨ì§‘ê³¼ì˜ ê±°ë¦¬ëŠ” |5-5| + |4-5| = 1ì´ë‹¤. ë”°ë¼ì„œ, (5, 4)ì— ìžˆëŠ” ì§‘ì˜ ì¹˜í‚¨ ê±°ë¦¬ëŠ” 1ì´ë‹¤.

ì´ ë„ì‹œì— ìžˆëŠ” ì¹˜í‚¨ì§‘ì€ ëª¨ë‘ ê°™ì€ í”„ëžœì°¨ì´ì¦ˆì´ë‹¤. í”„ë Œì°¨ì´ì¦ˆ ë³¸ì‚¬ì—ì„œëŠ” ìˆ˜ìµì„ ì¦ê°€ì‹œí‚¤ê¸° ìœ„í•´ ì¼ë¶€ ì¹˜í‚¨ì§‘ì„ íì—…ì‹œí‚¤ë ¤ê³  í•œë‹¤. ì˜¤ëžœ ì—°êµ¬ ëì— ì´ ë„ì‹œì—ì„œ ê°€ìž¥ ìˆ˜ìµì„ ë§Žì´ ë‚¼ ìˆ˜ ìžˆëŠ”  ì¹˜í‚¨ì§‘ì˜ ê°œìˆ˜ëŠ” ìµœëŒ€ Mê°œë¼ëŠ” ì‚¬ì‹¤ì„ ì•Œì•„ë‚´ì—ˆë‹¤.

ë„ì‹œì— ìžˆëŠ” ì¹˜í‚¨ì§‘ ì¤‘ì—ì„œ ìµœëŒ€ Mê°œë¥¼ ê³ ë¥´ê³ , ë‚˜ë¨¸ì§€ ì¹˜í‚¨ì§‘ì€ ëª¨ë‘ íì—…ì‹œì¼œì•¼ í•œë‹¤. ì–´ë–»ê²Œ ê³ ë¥´ë©´, ë„ì‹œì˜ ì¹˜í‚¨ ê±°ë¦¬ê°€ ê°€ìž¥ ìž‘ê²Œ ë ì§€ êµ¬í•˜ëŠ” í”„ë¡œê·¸ëž¨ì„ ìž‘ì„±í•˜ì‹œì˜¤.
### **ìž…ë ¥**
ì²«ì§¸ ì¤„ì— N(2 â‰¤ N â‰¤ 50)ê³¼ M(1 â‰¤ M â‰¤ 13)ì´ ì£¼ì–´ì§„ë‹¤.

ë‘˜ì§¸ ì¤„ë¶€í„° Nê°œì˜ ì¤„ì—ëŠ” ë„ì‹œì˜ ì •ë³´ê°€ ì£¼ì–´ì§„ë‹¤.

ë„ì‹œì˜ ì •ë³´ëŠ” 0, 1, 2ë¡œ ì´ë£¨ì–´ì ¸ ìžˆê³ , 0ì€ ë¹ˆ ì¹¸, 1ì€ ì§‘, 2ëŠ” ì¹˜í‚¨ì§‘ì„ ì˜ë¯¸í•œë‹¤. ì§‘ì˜ ê°œìˆ˜ëŠ” 2Nê°œë¥¼ ë„˜ì§€ ì•Šìœ¼ë©°, ì ì–´ë„ 1ê°œëŠ” ì¡´ìž¬í•œë‹¤. ì¹˜í‚¨ì§‘ì˜ ê°œìˆ˜ëŠ” Më³´ë‹¤ í¬ê±°ë‚˜ ê°™ê³ , 13ë³´ë‹¤ ìž‘ê±°ë‚˜ ê°™ë‹¤.
### **ì¶œë ¥**
ì²«ì§¸ ì¤„ì— íì—…ì‹œí‚¤ì§€ ì•Šì„ ì¹˜í‚¨ì§‘ì„ ìµœëŒ€ Mê°œë¥¼ ê³¨ëžì„ ë•Œ, ë„ì‹œì˜ ì¹˜í‚¨ ê±°ë¦¬ì˜ ìµœì†Ÿê°’ì„ ì¶œë ¥í•œë‹¤.
### **ì˜ˆì œìž…ì¶œë ¥**

**ì˜ˆì œ ìž…ë ¥1**

```
5 3
0 0 1 0 0
0 0 2 0 1
0 1 2 0 0
0 0 1 0 0
0 0 0 0 2
```

**ì˜ˆì œ ì¶œë ¥1**

```
5
```

**ì˜ˆì œ ìž…ë ¥2**

```
5 2
0 2 0 1 0
1 0 1 0 0
0 0 0 0 0
2 0 0 1 1
2 2 0 1 2
```

**ì˜ˆì œ ì¶œë ¥2**

```
10
```

**ì˜ˆì œ ìž…ë ¥3**

```
5 1
1 2 0 0 0
1 2 0 0 0
1 2 0 0 0
1 2 0 0 0
1 2 0 0 0
```

**ì˜ˆì œ ì¶œë ¥3**

```
11
```

### **ì¶œì²˜**

## **ðŸ§CODE REVIEW**

### **ðŸ§¾ë‚˜ì˜ í’€ì´**

```python
from itertools import combinations

N, M = map(int, input().split())

city = [list(map(int, input().split())) for _ in range(N)]

house = []
chicken = []
for i in range(N):
    for j in range(N):
        if city[i][j] == 1:
            house.append((i, j))
        elif city[i][j] == 2:
            chicken.append((i, j))

comb_chicken = list(combinations(chicken, M))

min_chicken_range = 21e8

for case in comb_chicken:
    temp_chicken_range = 0

    for one_house in house:
        h_x, h_y = one_house
        
        one_range = 100
        for one_chicken in case:
            c_x, c_y = one_chicken
            one_range = min(one_range, abs((h_x-c_x)) + abs((h_y - c_y)))
        
        temp_chicken_range += one_range
        if temp_chicken_range > min_chicken_range:
            break
    
    min_chicken_range = min(min_chicken_range, temp_chicken_range)

print(min_chicken_range)
```

ê²°ê³¼	| ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B)
:----:|:-----:|:-----:|:-----:|:--------:
ì •ë‹µ|111332|160|PyPy3|898
#### **ðŸ“í•´ì„¤**

**ì•Œê³ ë¦¬ì¦˜**
```
1. ì™„ì „ íƒìƒ‰
2. ë°±íŠ¸ëž˜í‚¹
```

#### **ðŸ˜…ê°œì„ ì **

1. BFSë¥¼ ì‚¬ìš©í•´ì„œë„ í’€ì–´ë³´ìž

### **ë‹¤ë¥¸ í’€ì´**

```python
ans = 1e9
def solve():
    global ans
    N, M = map(int, input().split())
    board = [list(map(int, input().split())) for _ in range(N)]
    houses = []
    chickens = []
    chicken_dists = []
    for i in range(N):
        for j in range(N):
            if board[i][j] == 1:
                houses.append((i, j))
            elif board[i][j] == 2:
                chickens.append((i, j))


    for r1, c1 in houses:
        chicken_dists.append([])
        for idx, (r2, c2) in enumerate(chickens):
            chicken_dists[-1].append((abs(r1 - r2) + abs(c1 - c2), idx))
        chicken_dists[-1].sort(key=lambda x:x[0])

    ans = 1e9
    visited = [False for _ in range(len(chickens))]
    def dfs(depth, start):
        global ans
        if depth == M:
            tmp = 0
            for D in chicken_dists:
                for distance, idx in D:
                    if visited[idx]:
                        tmp += distance
                        break
            ans = min(ans, tmp)
            return

        for i in range(start, len(chickens)):
            if not visited[i]:
                visited[i] = True
                dfs(depth + 1, i + 1)
                visited[i] = False

    dfs(0, 0)
    print(ans)

solve()
```

ì•„ì´ë”” | ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B) 
:-----:|:-----:|:-----:|:----:|:--------:
greg1028|31120|72|Python3|1240
#### **ðŸ“í•´ì„¤**

```python
from itertools import combinations

# ìž…ë ¥ ë°›ìŒ
N, M = map(int, input().split())
city = [list(map(int, input().split())) for _ in range(N)]

# ì§‘ê³¼ ì¹˜í‚¨ì§‘ì˜ ì¢Œí‘œë¥¼ íŠœí”Œì˜ í˜•íƒœë¡œ ë¦¬ìŠ¤íŠ¸ì— ì €ìž¥í•´ë‘ 
house = []
chicken = []
for i in range(N):
    for j in range(N):
        if city[i][j] == 1:
            house.append((i, j))
        elif city[i][j] == 2:
            chicken.append((i, j))

# ëª¨ë“  ì¹˜í‚¨ì§‘ ì¤‘ Mê°œë¡œ ì¹˜í‚¨ì§‘ì„ êµ¬ì„±í•˜ëŠ” ì¡°í•©ì„ ìƒì„±
comb_chicken = list(combinations(chicken, M))

# ì¹˜í‚¨ê±°ë¦¬ì˜ ìµœì†Œê°’ì´ ë  ë³€ìˆ˜
min_chicken_range = 21e8

# Mê°œì˜ ì¹˜í‚¨ì§‘ì„ ê³ ë¥¸ ì¡°í•©ì„ caseë¡œ ë‘ê³  ìˆœíšŒ
for case in comb_chicken:
    # ì´ ê²½ìš°ì—ì„œì˜ ì¹˜í‚¨ ê±°ë¦¬
    temp_chicken_range = 0

    # ëª¨ë“  ì§‘ë§ˆë‹¤ ê°€ìž¥ ê°€ê¹Œìš´ ì¹˜í‚¨ê±°ë¦¬ë¥¼ êµ¬í•  ê²ƒ
    for one_house in house:
        # í˜„ìž¬ ì§‘ì˜ ì¢Œí‘œ
        h_x, h_y = one_house
        
        # í˜„ìž¬ ì§‘ì˜ ìµœì†Œ ì¹˜í‚¨ê±°ë¦¬ë¥¼ ì €ìž¥í•  ë³€ìˆ˜
        one_range = 100

        # Mê°œ ê³ ë¥¸ ì¹˜í‚¨ì§‘ ì¤‘ ëª¨ë“  ì¹˜í‚¨ì§‘ì„ ìˆœíšŒí•˜ë©° ìµœì†Œê°’ì„ ì°¾ìŒ
        for one_chicken in case:

            # ì¹˜í‚¨ì§‘ì˜ ì¢Œí‘œ
            c_x, c_y = one_chicken

            # ëª¨ë“  ì¹˜í‚¨ì§‘ì˜ ê±°ë¦¬ë¥¼ êµ¬í•˜ê³ , ìµœì†Œê°’ê³¼ ë¹„êµí•˜ì—¬ ìµœì†Œê°’ì„ ì°¾ìŒ
            one_range = min(one_range, abs((h_x-c_x)) + abs((h_y - c_y)))
        
        # í•œ ì§‘ì—ì„œ ìµœì†Œ ì¹˜í‚¨ê±°ë¦¬ë¥¼ ì´ ë§ˆì„ì˜ ìµœì†Œì¹˜í‚¨ê±°ë¦¬ì— ë”í•´ì¤Œ
        temp_chicken_range += one_range
        
        # ì´ë¯¸ ìµœì†Œê°’ì„ ë„˜ì—ˆë‹¤ë©´ ì´ ì¼€ì´ìŠ¤ëŠ” ë”ì´ìƒ ìˆ˜í–‰í•˜ì§€ ì•Šê³  ë„˜ì–´ê°
        if temp_chicken_range > min_chicken_range:
            break
    
    # ìµœì†Œ ì¹˜í‚¨ê±°ë¦¬ë¥¼ ê°±ì‹ ì‹œì¼œì¤Œ
    min_chicken_range = min(min_chicken_range, temp_chicken_range)

print(min_chicken_range)
```