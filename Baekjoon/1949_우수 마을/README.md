# [1949] ìš°ìˆ˜ ë§ˆì„

### **ë‚œì´ë„**
ê³¨ë“œ 2
## **ğŸ“ë¬¸ì œ**
Nê°œì˜ ë§ˆì„ë¡œ ì´ë£¨ì–´ì§„ ë‚˜ë¼ê°€ ìˆë‹¤. í¸ì˜ìƒ ë§ˆì„ì—ëŠ” 1ë¶€í„° Nê¹Œì§€ ë²ˆí˜¸ê°€ ë¶™ì–´ ìˆë‹¤ê³  í•˜ì. ì´ ë‚˜ë¼ëŠ” íŠ¸ë¦¬(Tree) êµ¬ì¡°ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤. ì¦‰ ë§ˆì„ê³¼ ë§ˆì„ ì‚¬ì´ë¥¼ ì§ì ‘ ì‡ëŠ” N-1ê°œì˜ ê¸¸ì´ ìˆìœ¼ë©°, ê° ê¸¸ì€ ë°©í–¥ì„±ì´ ì—†ì–´ì„œ Aë²ˆ ë§ˆì„ì—ì„œ Bë²ˆ ë§ˆì„ë¡œ ê°ˆ ìˆ˜ ìˆë‹¤ë©´ Bë²ˆ ë§ˆì„ì—ì„œ Aë²ˆ ë§ˆì„ë¡œ ê°ˆ ìˆ˜ ìˆë‹¤. ë˜, ëª¨ë“  ë§ˆì„ì€ ì—°ê²°ë˜ì–´ ìˆë‹¤. ë‘ ë§ˆì„ ì‚¬ì´ì— ì§ì ‘ ì‡ëŠ” ê¸¸ì´ ìˆì„ ë•Œ, ë‘ ë§ˆì„ì´ ì¸ì ‘í•´ ìˆë‹¤ê³  í•œë‹¤.

ì´ ë‚˜ë¼ì˜ ì£¼ë¯¼ë“¤ì—ê²Œ ì„±ì·¨ê°ì„ ë†’ì—¬ ì£¼ê¸° ìœ„í•´, ë‹¤ìŒ ì„¸ ê°€ì§€ ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´ì„œ Nê°œì˜ ë§ˆì„ ì¤‘ ëª‡ ê°œì˜ ë§ˆì„ì„ 'ìš°ìˆ˜ ë§ˆì„'ë¡œ ì„ ì •í•˜ë ¤ê³  í•œë‹¤.

1. 'ìš°ìˆ˜ ë§ˆì„'ë¡œ ì„ ì •ëœ ë§ˆì„ ì£¼ë¯¼ ìˆ˜ì˜ ì´ í•©ì„ ìµœëŒ€ë¡œ í•´ì•¼ í•œë‹¤.
2. ë§ˆì„ ì‚¬ì´ì˜ ì¶©ëŒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ, ë§Œì¼ ë‘ ë§ˆì„ì´ ì¸ì ‘í•´ ìˆìœ¼ë©´ ë‘ ë§ˆì„ì„ ëª¨ë‘ 'ìš°ìˆ˜ ë§ˆì„'ë¡œ ì„ ì •í•  ìˆ˜ëŠ” ì—†ë‹¤. ì¦‰ 'ìš°ìˆ˜ ë§ˆì„'ë¼ë¦¬ëŠ” ì„œë¡œ ì¸ì ‘í•´ ìˆì„ ìˆ˜ ì—†ë‹¤.
3. ì„ ì •ë˜ì§€ ëª»í•œ ë§ˆì„ì— ê²½ê°ì‹¬ì„ ë¶ˆëŸ¬ì¼ìœ¼í‚¤ê¸° ìœ„í•´ì„œ, 'ìš°ìˆ˜ ë§ˆì„'ë¡œ ì„ ì •ë˜ì§€ ëª»í•œ ë§ˆì„ì€ ì ì–´ë„ í•˜ë‚˜ì˜ 'ìš°ìˆ˜ ë§ˆì„'ê³¼ëŠ” ì¸ì ‘í•´ ìˆì–´ì•¼ í•œë‹¤.

ê° ë§ˆì„ ì£¼ë¯¼ ìˆ˜ì™€ ë§ˆì„ ì‚¬ì´ì˜ ê¸¸ì— ëŒ€í•œ ì •ë³´ê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ì£¼ì–´ì§„ ì¡°ê±´ì„ ë§Œì¡±í•˜ë„ë¡ 'ìš°ìˆ˜ ë§ˆì„'ì„ ì„ ì •í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.
### **ì…ë ¥**
ì²«ì§¸ ì¤„ì— ì •ìˆ˜ Nì´ ì£¼ì–´ì§„ë‹¤. (1 â‰¤ N â‰¤ 10,000) ë‘˜ì§¸ ì¤„ì—ëŠ” ë§ˆì„ ì£¼ë¯¼ ìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” Nê°œì˜ ìì—°ìˆ˜ê°€ ë¹ˆì¹¸ì„ ì‚¬ì´ì— ë‘ê³  ì£¼ì–´ì§„ë‹¤. 1ë²ˆ ë§ˆì„ë¶€í„° Në²ˆ ë§ˆì„ê¹Œì§€ ìˆœì„œëŒ€ë¡œ ì£¼ì–´ì§€ë©°, ì£¼ë¯¼ ìˆ˜ëŠ” 10,000 ì´í•˜ì´ë‹¤. ì…‹ì§¸ ì¤„ë¶€í„° N-1ê°œ ì¤„ì— ê±¸ì³ì„œ ì¸ì ‘í•œ ë‘ ë§ˆì„ì˜ ë²ˆí˜¸ê°€ ë¹ˆì¹¸ì„ ì‚¬ì´ì— ë‘ê³  ì£¼ì–´ì§„ë‹¤.
### **ì¶œë ¥**
ì²«ì§¸ ì¤„ì— 'ìš°ìˆ˜ ë§ˆì„'ì˜ ì£¼ë¯¼ ìˆ˜ì˜ ì´ í•©ì„ ì¶œë ¥í•œë‹¤.
### **ì˜ˆì œì…ì¶œë ¥**

**ì˜ˆì œ ì…ë ¥1**

```
7
1000 3000 4000 1000 2000 2000 7000
1 2
2 3
4 3
4 5
6 2
6 7
```

**ì˜ˆì œ ì¶œë ¥1**

```
14000
```

### **ì¶œì²˜**

## **ğŸ§CODE REVIEW**

### **ğŸ§¾ë‚˜ì˜ í’€ì´**

```python
import sys
sys.setrecursionlimit(int(1e9))

N = int(sys.stdin.readline().rstrip())
towns = [0] + list(map(int, sys.stdin.readline().rstrip().split()))
edges = [[] for _ in range(N+1)]

for _ in range(N-1):
    a, b = map(int, sys.stdin.readline().rstrip().split())
    edges[a].append(b)
    edges[b].append(a)

dp = [[0, 0] for _ in range(N+1)]
visited = [False] * (N+1)

def dfs(u):
    visited[u] = True
    dp[u][0] = 0
    dp[u][1] = towns[u]

    for v in edges[u]:
        if not visited[v]:
            dfs(v)
            dp[u][0] += max(dp[v][0], dp[v][1])
            dp[u][1] += dp[v][0]

dfs(1)
print(max(dp[1][0], dp[1][1]))
```

ê²°ê³¼	| ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B)
:----:|:-----:|:-----:|:-----:|:--------:
ì •ë‹µ|37048|64|Python3|637
#### **ğŸ“í•´ì„¤**

**ì•Œê³ ë¦¬ì¦˜**
```
1. íŠ¸ë¦¬
2. DP
```

### **ë‹¤ë¥¸ í’€ì´**

```python
import sys



sys.setrecursionlimit(10**5)


def sol(weights, edges):
    def dfs(parent, cur):
        c1, c2 = 0, weights[cur]

        for chi in edges[cur]:
            if chi == parent: continue

            c3, c4 = dfs(cur, chi)

            c1 += c3 if c3 > c4 else c4
            c2 += c3 
        
        return c1, c2

    return max(dfs(0, 1))


readline = sys.stdin.readline
N = int(readline())

weights = (0,) + tuple(map(int, readline().split()))

edges = [[] for _ in range(N+1)]
for a, b in (map(int, readline().split()) for _ in range(N-1)):
    edges[a].append(b)
    edges[b].append(a)

print(sol(weights, edges))
```

ì•„ì´ë”” | ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B) 
:-----:|:-----:|:-----:|:----:|:--------:
power16one5|35036|48|Python3|635
#### **ğŸ“í•´ì„¤**

```python
import sys
sys.setrecursionlimit(int(1e9))

# ì…ë ¥ë°›ê¸°
N = int(sys.stdin.readline().rstrip())
towns = [0] + list(map(int, sys.stdin.readline().rstrip().split()))
edges = [[] for _ in range(N+1)]

for _ in range(N-1):
    a, b = map(int, sys.stdin.readline().rstrip().split())
    edges[a].append(b)
    edges[b].append(a)

# dpë°°ì—´ ì„ ì–¸. dp[i][j] : ië²ˆì§¸ ë§ˆì„ê¹Œì§€ í™•ì¸í–ˆì„ ë•Œ ìµœëŒ€ê°’(j: ìš°ìˆ˜ë§ˆì„ ì„ ì • ì—¬ë¶€(1ì´ë©´ ì„ ì •))
dp = [[0, 0] for _ in range(N+1)]
visited = [False] * (N+1)

# DFS ì¬ê·€í•¨ìˆ˜
def dfs(u):

    # í˜„ì¬ ë§ˆì„ ë°©ë¬¸ì²˜ë¦¬
    visited[u] = True

    # ìš°ìˆ˜ë§ˆì„ë¡œ ì„ íƒí•˜ì§€ ì•Šì€ ê²½ìš°
    dp[u][0] = 0

    # ìš°ìˆ˜ ë§ˆì„ë¡œ ì„ íƒí•œ ê²½ìš°
    dp[u][1] = towns[u]

    # ë°©ë¬¸ ê°€ëŠ¥í•œ ë…¸ë“œë“¤ì„ í™•ì¸í•˜ë©´ì„œ
    for v in edges[u]:

        # ë°©ë¬¸í•˜ì§€ ì•Šì•˜ì„ ë•Œ
        if not visited[v]:

            # ë‹¤ìŒ ë…¸ë“œ ë°©ë¬¸(ì„œë¸ŒíŠ¸ë¦¬)
            dfs(v)

            # í˜„ì¬ ë…¸ë“œë¥¼ ìš°ìˆ˜ë§ˆì„ë¡œ ì„ ì •í•˜ì§€ ì•Šì•˜ìœ¼ë‹ˆ, ë‹¤ìŒ ë…¸ë“œì¤‘ í° ê°’ì„ ê³ ë¦„(ìš°ìˆ˜ë§ˆì„ì´ê±°ë‚˜ ì•„ë‹Œ ê²½ìš°)
            dp[u][0] += max(dp[v][0], dp[v][1])

            # í˜„ì¬ ë…¸ë“œë¥¼ ìš°ìˆ˜ë§ˆì„ë¡œ ì •í–ˆìœ¼ë‹ˆ, ë‹¤ìŒ ë…¸ë“œëŠ” ë¬´ì¡°ê±´ ìš°ìˆ˜ë§ˆì„ì´ ì•„ë‹ˆì–´ì•¼í•¨
            dp[u][1] += dp[v][0]

dfs(1)
print(max(dp[1][0], dp[1][1]))
```