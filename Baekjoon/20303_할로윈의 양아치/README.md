# [20303] í• ë¡œìœˆì˜ ì–‘ì•„ì¹˜

### **ë‚œì´ë„**
ê³¨ë“œ 3
## **ðŸ“ë¬¸ì œ**
Trick or Treat!!

10ì›” 31ì¼ í• ë¡œìœˆì˜ ë°¤ì—ëŠ” ê±°ë¦¬ì˜ ì—¬ê¸°ì €ê¸°ì„œ ì•„ì´ë“¤ì´ ì¹œêµ¬ë“¤ê³¼ ëª¨ì—¬ ì‚¬íƒ•ì„ ë°›ê¸° ìœ„í•´ ëŒì•„ë‹¤ë‹Œë‹¤. ì˜¬í•´ í• ë¡œìœˆì—ë„ ì–´ê¹€ì—†ì´ ë§Žì€ ì•„ì´ê°€ í• ë¡œìœˆì„ ì¦ê²¼ì§€ë§Œ ë‹¨ í•œ ì‚¬ëžŒ, ì¼ì°ë¶€í„° ìž ì— ë¹ ì§„ ìŠ¤ë¸ŒëŸ¬ìŠ¤ëŠ” í• ë¡œìœˆ ë°¤ì„ ì¦ê¸¸ ìˆ˜ê°€ ì—†ì—ˆë‹¤. ë’¤ëŠ¦ê²Œ ì¼ì–´ë‚˜ ì‚¬íƒ•ì„ ì–»ê¸° ìœ„í•´ í˜¼ìž ëŒì•„ë‹¤ë…€ ë³´ì§€ë§Œ ì´ë¯¸ ì‚¬íƒ•ì€ ë°”ë‹¥ë‚˜ í•˜ë‚˜ë„ ì–»ì„ ìˆ˜ ì—†ì—ˆë‹¤.

ë‹¨ë‹¨ížˆ í™”ê°€ ë‚œ ìŠ¤ë¸ŒëŸ¬ìŠ¤ëŠ” ê±°ë¦¬ë¥¼ ëŒì•„ë‹¤ë‹ˆë©° ë‹¤ë¥¸ ì•„ì´ë“¤ì˜ ì‚¬íƒ•ì„ ë¹¼ì•—ê¸°ë¡œ ë§ˆìŒì„ ë¨¹ëŠ”ë‹¤. ë‹¤ë¥¸ ì•„ì´ë“¤ë³´ë‹¤ ëª¸ì§‘ì´ í° ìŠ¤ë¸ŒëŸ¬ìŠ¤ì—ê²Œ ì‚¬íƒ•ì„ ë¹¼ì•—ëŠ” ê±´ ì–´ë µì§€ ì•Šë‹¤. ë˜í•œ, ìŠ¤ë¸ŒëŸ¬ìŠ¤ëŠ” ë§¤ìš° ê³µí‰í•œ ì‚¬ëžŒì´ê¸° ë•Œë¬¸ì— í•œ ì•„ì´ì˜ ì‚¬íƒ•ì„ ëºìœ¼ë©´ ê·¸ ì•„ì´ ì¹œêµ¬ë“¤ì˜ ì‚¬íƒ•ë„ ëª¨ì¡°ë¦¬ ëºì–´ë²„ë¦°ë‹¤. (ì¹œêµ¬ì˜ ì¹œêµ¬ëŠ” ì¹œêµ¬ë‹¤?!)

ì‚¬íƒ•ì„ ë¹¼ì•—ê¸´ ì•„ì´ë“¤ì€ ê±°ë¦¬ì— ì£¼ì €ì•‰ì•„ ìš¸ê³  
$K$ëª… ì´ìƒì˜ ì•„ì´ë“¤ì´ ìš¸ê¸° ì‹œìž‘í•˜ë©´ ìš¸ìŒì†Œë¦¬ê°€ ê³µëª…í•˜ì—¬ ì˜¨ ì§‘ì˜ ì–´ë¥¸ë“¤ì´ ê±°ë¦¬ë¡œ ë‚˜ì˜¨ë‹¤. ìŠ¤ë¸ŒëŸ¬ìŠ¤ê°€ ì–´ë¥¸ë“¤ì—ê²Œ ë“¤í‚¤ì§€ ì•Šê³  ìµœëŒ€ë¡œ ëºì„ ìˆ˜ ìžˆëŠ” ì‚¬íƒ•ì˜ ì–‘ì„ êµ¬í•˜ì—¬ë¼.

ìŠ¤ë¸ŒëŸ¬ìŠ¤ëŠ” í˜¼ìž ëª¨ë“  ì§‘ì„ ëŒì•„ë‹¤ë…”ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ì•„ì´ë“¤ì´ ë°›ì€ ì‚¬íƒ•ì˜ ì–‘ì„ ëª¨ë‘ ì•Œê³  ìžˆë‹¤. ë˜í•œ, ëª¨ë“  ì•„ì´ëŠ” ìŠ¤ë¸ŒëŸ¬ìŠ¤ë¥¼ í”¼í•´ ê°ˆ ìˆ˜ ì—†ë‹¤.
### **ìž…ë ¥**
ì²«ì§¸ ì¤„ì— ì •ìˆ˜ 
$N$, 
$M$, 
$K$ê°€ ì£¼ì–´ì§„ë‹¤. 
$N$ì€ ê±°ë¦¬ì— ìžˆëŠ” ì•„ì´ë“¤ì˜ ìˆ˜, 
$M$ì€ ì•„ì´ë“¤ì˜ ì¹œêµ¬ ê´€ê³„ ìˆ˜, 
$K$ëŠ” ìš¸ìŒì†Œë¦¬ê°€ ê³µëª…í•˜ê¸° ìœ„í•œ ìµœì†Œ ì•„ì´ì˜ ìˆ˜ì´ë‹¤. (
$1 \leq N \leq 30\ 000$, 
$0 \leq M \leq 100\ 000$, 
$1 \leq K \leq \min\left\{N, 3\ 000\right\}$)

ë‘˜ì§¸ ì¤„ì—ëŠ” ì•„ì´ë“¤ì´ ë°›ì€ ì‚¬íƒ•ì˜ ìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì •ìˆ˜ 
$c_1, c_2, \cdots, c_N$ì´ ì£¼ì–´ì§„ë‹¤. (
$1 \leq c_i \leq 10\ 000$)

ì…‹ì§¸ ì¤„ë¶€í„° 
$M$ê°œ ì¤„ì— ê°ˆì³ ê°ê°ì˜ ì¤„ì— ì •ìˆ˜ 
$a$, 
$b$ê°€ ì£¼ì–´ì§„ë‹¤. ì´ëŠ” 
$a$ì™€ 
$b$ê°€ ì¹œêµ¬ìž„ì„ ì˜ë¯¸í•œë‹¤. ê°™ì€ ì¹œêµ¬ ê´€ê³„ê°€ ë‘ ë²ˆ ì£¼ì–´ì§€ëŠ” ê²½ìš°ëŠ” ì—†ë‹¤. (
$1 \leq a, b \leq N$, 
$a \neq b$)
### **ì¶œë ¥**
ìŠ¤ë¸ŒëŸ¬ìŠ¤ê°€ ì–´ë¥¸ë“¤ì—ê²Œ ë“¤í‚¤ì§€ ì•Šê³  ì•„ì´ë“¤ë¡œë¶€í„° ëºì„ ìˆ˜ ìžˆëŠ” ìµœëŒ€ ì‚¬íƒ•ì˜ ìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤.
### **ì˜ˆì œìž…ì¶œë ¥**

**ì˜ˆì œ ìž…ë ¥1**

```
10 6 6
9 15 4 4 1 5 19 14 20 5
1 3
2 5
4 9
6 2
7 8
6 10
```

**ì˜ˆì œ ì¶œë ¥1**

```
57
```

**ì˜ˆì œ ìž…ë ¥2**

```
5 4 4
9 9 9 9 9
1 2
2 3
3 4
4 5
```

**ì˜ˆì œ ì¶œë ¥2**

```
0
```

### **ì¶œì²˜**

## **ðŸ§CODE REVIEW**

### **ðŸ§¾ë‚˜ì˜ í’€ì´**

```python
def find(parent, x):
    if parent[x] != x:
        parent[x] = find(parent, parent[x])
    return parent[x]

def union(parent, rank, x, y):
    root_x = find(parent, x)
    root_y = find(parent, y)

    if root_x != root_y:
        if rank[root_x] > rank[root_y]:
            parent[root_y] = root_x
        elif rank[root_x] < rank[root_y]:
            parent[root_x] = root_y
        else:
            parent[root_y] = root_x
            rank[root_x] += 1

N, M, K = map(int, input().split())
candies = list(map(int, input().split()))

parent = [i for i in range(N)]
rank = [0] * N

for _ in range(M):
    a, b = map(int, input().split())
    a -= 1
    b -= 1
    union(parent, rank, a, b)

component = {}
for i in range(N):
    root = find(parent, i)
    if root not in component:
        component[root] = {'count': 0, 'candies': 0}
    component[root]['count'] += 1
    component[root]['candies'] += candies[i]

dp = [0] * K

for comp in component.values():
    count = comp['count']
    candy_sum = comp['candies']

    for j in range(K - 1, count - 1, -1):
        dp[j] = max(dp[j], dp[j - count] + candy_sum)

print(dp[K - 1])
```

ê²°ê³¼	| ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B)
:----:|:-----:|:-----:|:-----:|:--------:
ì •ë‹µ|122708|596|PyPy3|1137
#### **ðŸ“í•´ì„¤**

**ì•Œê³ ë¦¬ì¦˜**
```
1. ìœ ë‹ˆì˜¨ íŒŒì¸ë“œ
2. DP
```

### **ë‹¤ë¥¸ í’€ì´**

```python
import sys

def union(x,y):
    a, b = get(x), get(y)
    if a == b: return
    if a < b : a,b = b,a
    cnt[b] += cnt[a]
    c[b] += c[a]
    p[a] = b

def get(x):
    if p[x] !=x : 
        p[x] = get(p[x])
    return p[x]

input = lambda:map(int, sys.stdin.readline().split())
n, m, k = input()
c = [0]+ list(input())
p = [i for i in range(n+1)]
dp = [0 for i in range(k+1)]
cnt = [1 for i in range(n+1)]
dp[0] = 0

for i in range(m):
    a,b = input()
    union(a,b)

lst = []
for i in range(1,n+1):
    if p[i] == i:
        lst.append((cnt[i], c[i]))

lst.sort()

for c, cst in lst:
    for v in range(k-1, c-1, -1):
        dp[v] = max(dp[v], dp[v - c] + cst)

print(dp[k-1])
```

ì•„ì´ë”” | ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B) 
:-----:|:-----:|:-----:|:----:|:--------:
sunhong|114760|372|PyPy3|683
#### **ðŸ“í•´ì„¤**

```python
def find(parent, x):
    # ë¶€ëª¨ë…¸ë“œë¥¼ ì°¾ëŠ” í•¨ìˆ˜
    if parent[x] != x:
        parent[x] = find(parent, parent[x])
    return parent[x]

def union(parent, rank, x, y):
    # ë‘ ì§‘í•©ì„ í•©ì¹˜ëŠ” í•¨ìˆ˜
    root_x = find(parent, x)
    root_y = find(parent, y)

    if root_x != root_y:
        if rank[root_x] > rank[root_y]:
            parent[root_y] = root_x
        elif rank[root_x] < rank[root_y]:
            parent[root_x] = root_y
        else:
            parent[root_y] = root_x
            rank[root_x] += 1

N, M, K = map(int, input().split())
candies = list(map(int, input().split()))

# ê° ì¸ë±ìŠ¤ì˜ ë¶€ëª¨ ë…¸ë“œ
parent = [i for i in range(N)]

# ìžì‹ ìˆ˜
rank = [0] * N

# ìž…ë ¥ë°›ê¸°
for _ in range(M):
    a, b = map(int, input().split())
    a -= 1
    b -= 1
    union(parent, rank, a, b)

# ê° ìš”ì†Œë³„ ì‚¬íƒ•ê³¼ ì¸ì›ìˆ˜ë¥¼ ì €ìž¥
component = {}
for i in range(N):
    root = find(parent, i)
    if root not in component:
        component[root] = {'count': 0, 'candies': 0}
    component[root]['count'] += 1
    component[root]['candies'] += candies[i]

# DPë°°ì—´. këª…ì˜ ì•„ì´ì—ì„œ ë°›ëŠ” ì‚¬íƒ•ì˜ ìˆ˜ ìµœëŒ€ê°’
dp = [0] * K

# ê° ì—°ê²°ìš”ì†Œë¥¼ í†µí•´ DP ì—…ë°ì´íŠ¸
for comp in component.values():
    count = comp['count']
    candy_sum = comp['candies']

    # ë°°ë‚­ë¬¸ì œë¥¼ ìœ„í•´ ì—­ìˆœìœ¼ë¡œ DPê°±ì‹ 
    for j in range(K - 1, count - 1, -1):
        dp[j] = max(dp[j], dp[j - count] + candy_sum)

print(dp[K - 1])
```