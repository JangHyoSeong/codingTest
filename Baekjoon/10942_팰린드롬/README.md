# [10942] íŒ°ë¦°ë“œë¡¬

### **ë‚œì´ë„**
ê³¨ë“œ 4
## **ğŸ“ë¬¸ì œ**
ëª…ìš°ëŠ” í™ì¤€ì´ì™€ í•¨ê»˜ íŒ°ë¦°ë“œë¡¬ ë†€ì´ë¥¼ í•´ë³´ë ¤ê³  í•œë‹¤.

ë¨¼ì €, í™ì¤€ì´ëŠ” ìì—°ìˆ˜ Nê°œë¥¼ ì¹ íŒì— ì ëŠ”ë‹¤. ê·¸ ë‹¤ìŒ, ëª…ìš°ì—ê²Œ ì§ˆë¬¸ì„ ì´ Më²ˆ í•œë‹¤.

ê° ì§ˆë¬¸ì€ ë‘ ì •ìˆ˜ Sì™€ E(1 â‰¤ S â‰¤ E â‰¤ N)ë¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìœ¼ë©°, Së²ˆì§¸ ìˆ˜ë¶€í„° Eë²ˆì§¸ ê¹Œì§€ ìˆ˜ê°€ íŒ°ë¦°ë“œë¡¬ì„ ì´ë£¨ëŠ”ì§€ë¥¼ ë¬¼ì–´ë³´ë©°, ëª…ìš°ëŠ” ê° ì§ˆë¬¸ì— ëŒ€í•´ íŒ°ë¦°ë“œë¡¬ì´ë‹¤ ë˜ëŠ” ì•„ë‹ˆë‹¤ë¥¼ ë§í•´ì•¼ í•œë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, í™ì¤€ì´ê°€ ì¹ íŒì— ì ì€ ìˆ˜ê°€ 1, 2, 1, 3, 1, 2, 1ë¼ê³  í•˜ì.

- S = 1, E = 3ì¸ ê²½ìš° 1, 2, 1ì€ íŒ°ë¦°ë“œë¡¬ì´ë‹¤.
- S = 2, E = 5ì¸ ê²½ìš° 2, 1, 3, 1ì€ íŒ°ë¦°ë“œë¡¬ì´ ì•„ë‹ˆë‹¤.
- S = 3, E = 3ì¸ ê²½ìš° 1ì€ íŒ°ë¦°ë“œë¡¬ì´ë‹¤.
- S = 5, E = 7ì¸ ê²½ìš° 1, 2, 1ì€ íŒ°ë¦°ë“œë¡¬ì´ë‹¤.  
ìì—°ìˆ˜ Nê°œì™€ ì§ˆë¬¸ Mê°œê°€ ëª¨ë‘ ì£¼ì–´ì¡Œì„ ë•Œ, ëª…ìš°ì˜ ëŒ€ë‹µì„ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.
### **ì…ë ¥**
ì²«ì§¸ ì¤„ì— ìˆ˜ì—´ì˜ í¬ê¸° N (1 â‰¤ N â‰¤ 2,000)ì´ ì£¼ì–´ì§„ë‹¤.

ë‘˜ì§¸ ì¤„ì—ëŠ” í™ì¤€ì´ê°€ ì¹ íŒì— ì ì€ ìˆ˜ Nê°œê°€ ìˆœì„œëŒ€ë¡œ ì£¼ì–´ì§„ë‹¤. ì¹ íŒì— ì ì€ ìˆ˜ëŠ” 100,000ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ìì—°ìˆ˜ì´ë‹¤.

ì…‹ì§¸ ì¤„ì—ëŠ” í™ì¤€ì´ê°€ í•œ ì§ˆë¬¸ì˜ ê°œìˆ˜ M (1 â‰¤ M â‰¤ 1,000,000)ì´ ì£¼ì–´ì§„ë‹¤.

ë„·ì§¸ ì¤„ë¶€í„° Mê°œì˜ ì¤„ì—ëŠ” í™ì¤€ì´ê°€ ëª…ìš°ì—ê²Œ í•œ ì§ˆë¬¸ Sì™€ Eê°€ í•œ ì¤„ì— í•˜ë‚˜ì”© ì£¼ì–´ì§„ë‹¤.
### **ì¶œë ¥**
ì´ Mê°œì˜ ì¤„ì— ê±¸ì³ í™ì¤€ì´ì˜ ì§ˆë¬¸ì— ëŒ€í•œ ëª…ìš°ì˜ ë‹µì„ ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§„ ìˆœì„œì— ë”°ë¼ì„œ ì¶œë ¥í•œë‹¤. íŒ°ë¦°ë“œë¡¬ì¸ ê²½ìš°ì—ëŠ” 1, ì•„ë‹Œ ê²½ìš°ì—ëŠ” 0ì„ ì¶œë ¥í•œë‹¤.
### **ì˜ˆì œì…ì¶œë ¥**

**ì˜ˆì œ ì…ë ¥1**

```
7
1 2 1 3 1 2 1
4
1 3
2 5
3 3
5 7
```

**ì˜ˆì œ ì¶œë ¥1**

```
1
0
1
1
```
### **ì¶œì²˜**

## **ğŸ§CODE REVIEW**

### **ğŸ§¾ë‚˜ì˜ í’€ì´**

```python
N = int(input())
arr = [0] + list(map(int, input().split()))
M = int(input())
questions = [list(map(int, input().split())) for _ in range(M)]

dp = [[False] * (N+1) for _ in range(N+1)]

for i in range(1, N+1):
    dp[i][i] = True

for i in range(1, N):
    if arr[i] == arr[i+1]:
        dp[i][i+1] = True

for length in range(3, N+1):
    for i in range(1, N-length+2):
        j = i + length - 1
        if arr[i] == arr[j] and dp[i+1][j-1]:
            dp[i][j] = True

for question in questions:
    s, e = question
    if dp[s][e]:
        print(1)
    else:
        print(0)
```

ê²°ê³¼	| ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B)
:----:|:-----:|:-----:|:-----:|:--------:
ì •ë‹µ|255368|876|PyPy3|581
#### **ğŸ“í•´ì„¤**

**ì•Œê³ ë¦¬ì¦˜**
```
1. DP
```

### **ë‹¤ë¥¸ í’€ì´**

```python
import io, os, sys


def main() -> None:
    input = io.BytesIO(os.read(0, os.fstat(0).st_size)).readline

    n = 2 * int(input()) + 1
    arr = [0] * n
    arr[1::2] = list(map(int, input().split()))
    radii = [0] * n
    for i in range(1, n - 1):
        for r in range(1, min(i, n - 1 - i) + 1):
            if arr[i - r] != arr[i + r]:
                break
        radii[i] = r

    result = []

    for _ in range(int(input())):
        s, e = map(int, input().split())
        s = s + s - 1
        e = e + e - 1
        mid = (s + e) // 2
        rad = (e - s) // 2 + 1
        result.append(1 if radii[mid] >= rad else 0)

    print("\n".join(map(str, result)))


sys.exit(main())
```

ì•„ì´ë”” | ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B) 
:-----:|:-----:|:-----:|:----:|:--------:
20210805|187480|260|PyPy3|693
#### **ğŸ“í•´ì„¤**

```python
N = int(input())
arr = [0] + list(map(int, input().split()))
M = int(input())
questions = [list(map(int, input().split())) for _ in range(M)]

# dpë°°ì—´ ì„ ì–¸. dp[i][j]==TrueëŠ” iì—ì„œ jê¹Œì§€ íŒ°ë¦°ë“œë¡¬ì´ë¼ëŠ” ëœ»
dp = [[False] * (N+1) for _ in range(N+1)]


# ê¸¸ì´ê°€ 1ì´ë©´ ë¬´ì¡°ê±´ ëŒ€ì¹­
for i in range(1, N+1):
    dp[i][i] = True

# ê¸¸ì´ê°€ 2ì¸ ê²½ìš° ëŒ€ì¹­ì„ ê²€ì‚¬
for i in range(1, N):
    if arr[i] == arr[i+1]:
        dp[i][i+1] = True

# ê¸¸ì´ê°€ 3ì´ìƒì¸ ê²½ìš° ëŒ€ì¹­ ê²€ì‚¬
for length in range(3, N+1):
    for i in range(1, N-length+2):
        j = i + length - 1
        if arr[i] == arr[j] and dp[i+1][j-1]:
            dp[i][j] = True

for question in questions:
    s, e = question
    if dp[s][e]:
        print(1)
    else:
        print(0)
```