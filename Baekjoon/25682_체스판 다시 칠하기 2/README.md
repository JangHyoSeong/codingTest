# [25682] ì²´ìŠ¤íŒ ë‹¤ì‹œ ì¹ í•˜ê¸° 2

### **ë‚œì´ë„**
ê³¨ë“œ 4
## **ğŸ“ë¬¸ì œ**
ì§€ë¯¼ì´ëŠ” ìì‹ ì˜ ì €íƒì—ì„œ MNê°œì˜ ë‹¨ìœ„ ì •ì‚¬ê°í˜•ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì ¸ ìˆëŠ” MÃ—N í¬ê¸°ì˜ ë³´ë“œë¥¼ ì°¾ì•˜ë‹¤. ì–´ë–¤ ì •ì‚¬ê°í˜•ì€ ê²€ì€ìƒ‰ìœ¼ë¡œ ì¹ í•´ì ¸ ìˆê³ , ë‚˜ë¨¸ì§€ëŠ” í°ìƒ‰ìœ¼ë¡œ ì¹ í•´ì ¸ ìˆë‹¤. ì§€ë¯¼ì´ëŠ” ì´ ë³´ë“œë¥¼ ì˜ë¼ì„œ KÃ—K í¬ê¸°ì˜ ì²´ìŠ¤íŒìœ¼ë¡œ ë§Œë“¤ë ¤ê³  í•œë‹¤.

ì²´ìŠ¤íŒì€ ê²€ì€ìƒ‰ê³¼ í°ìƒ‰ì´ ë²ˆê°ˆì•„ì„œ ì¹ í•´ì ¸ ìˆì–´ì•¼ í•œë‹¤. êµ¬ì²´ì ìœ¼ë¡œ, ê° ì¹¸ì´ ê²€ì€ìƒ‰ê³¼ í°ìƒ‰ ì¤‘ í•˜ë‚˜ë¡œ ìƒ‰ì¹ ë˜ì–´ ìˆê³ , ë³€ì„ ê³µìœ í•˜ëŠ” ë‘ ê°œì˜ ì‚¬ê°í˜•ì€ ë‹¤ë¥¸ ìƒ‰ìœ¼ë¡œ ì¹ í•´ì ¸ ìˆì–´ì•¼ í•œë‹¤. ë”°ë¼ì„œ ì´ ì •ì˜ë¥¼ ë”°ë¥´ë©´ ì²´ìŠ¤íŒì„ ìƒ‰ì¹ í•˜ëŠ” ê²½ìš°ëŠ” ë‘ ê°€ì§€ë¿ì´ë‹¤. í•˜ë‚˜ëŠ” ë§¨ ì™¼ìª½ ìœ„ ì¹¸ì´ í°ìƒ‰ì¸ ê²½ìš°, í•˜ë‚˜ëŠ” ê²€ì€ìƒ‰ì¸ ê²½ìš°ì´ë‹¤.

ë³´ë“œê°€ ì²´ìŠ¤íŒì²˜ëŸ¼ ì¹ í•´ì ¸ ìˆë‹¤ëŠ” ë³´ì¥ì´ ì—†ì–´ì„œ, ì§€ë¯¼ì´ëŠ” KÃ—K í¬ê¸°ì˜ ì²´ìŠ¤íŒìœ¼ë¡œ ì˜ë¼ë‚¸ í›„ì— ëª‡ ê°œì˜ ì •ì‚¬ê°í˜•ì„ ë‹¤ì‹œ ì¹ í•´ì•¼ê² ë‹¤ê³  ìƒê°í–ˆë‹¤. ë‹¹ì—°íˆ KÃ—K í¬ê¸°ëŠ” ì•„ë¬´ë°ì„œë‚˜ ê³¨ë¼ë„ ëœë‹¤. ì§€ë¯¼ì´ê°€ ë‹¤ì‹œ ì¹ í•´ì•¼ í•˜ëŠ” ì •ì‚¬ê°í˜•ì˜ ìµœì†Œ ê°œìˆ˜ë¥¼ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.
### **ì…ë ¥**
ì²«ì§¸ ì¤„ì— ì •ìˆ˜ N, M, Kê°€ ì£¼ì–´ì§„ë‹¤. ë‘˜ì§¸ ì¤„ë¶€í„° Nê°œì˜ ì¤„ì—ëŠ” ë³´ë“œì˜ ê° í–‰ì˜ ìƒíƒœê°€ ì£¼ì–´ì§„ë‹¤. BëŠ” ê²€ì€ìƒ‰ì´ë©°, WëŠ” í°ìƒ‰ì´ë‹¤.
### **ì¶œë ¥**
ì²«ì§¸ ì¤„ì— ì§€ë¯¼ì´ê°€ ì˜ë¼ë‚¸ KÃ—K ë³´ë“œë¥¼ ì²´ìŠ¤íŒìœ¼ë¡œ ë§Œë“¤ê¸° ìœ„í•´ ë‹¤ì‹œ ì¹ í•´ì•¼ í•˜ëŠ” ì •ì‚¬ê°í˜• ê°œìˆ˜ì˜ ìµœì†Ÿê°’ì„ ì¶œë ¥í•œë‹¤.
### **ì˜ˆì œì…ì¶œë ¥**

**ì˜ˆì œ ì…ë ¥1**

```
4 4 3
BBBB
BBBB
BBBW
BBWB
```

**ì˜ˆì œ ì¶œë ¥1**

```
2
```

**ì˜ˆì œ ì…ë ¥2**

```
8 8 8
WBWBWBWB
BWBWBWBW
WBWBWBWB
BWBBBWBW
WBWBWBWB
BWBWBWBW
WBWBWBWB
BWBWBWBW
```

**ì˜ˆì œ ì¶œë ¥2**

```
1
```

**ì˜ˆì œ ì…ë ¥3**

```
10 13 10
BBBBBBBBWBWBW
BBBBBBBBBWBWB
BBBBBBBBWBWBW
BBBBBBBBBWBWB
BBBBBBBBWBWBW
BBBBBBBBBWBWB
BBBBBBBBWBWBW
BBBBBBBBBWBWB
WWWWWWWWWWBWB
WWWWWWWWWWBWB
```

**ì˜ˆì œ ì¶œë ¥3**

```
30
```

### **ì¶œì²˜**

## **ğŸ§CODE REVIEW**

### **ğŸ§¾ë‚˜ì˜ í’€ì´**

```python
N, M, K = map(int, input().split())
board = [list(input()) for _ in range(N)]

start_white = [[0] * M for _ in range(N)]
start_black = [[0] * M for _ in range(N)]

for i in range(N):
    for j in range(M):
        expected_w = "W" if (i + j) % 2 == 0 else "B"
        expected_b = "B" if (i + j) % 2 == 0 else "W"

        if board[i][j] != expected_w:
            start_white[i][j] = 1
        if board[i][j] != expected_b:
            start_black[i][j] = 1

def prefix_sum(arr):
    psum = [[0] * (M+1) for _ in range(N+1)]
    for i in range(N):
        for j in range(M):
            psum[i+1][j+1] = arr[i][j] + psum[i][j+1] + psum[i+1][j] - psum[i][j]
    
    return psum

psum_w = prefix_sum(start_white)
psum_b = prefix_sum(start_black)

def get_sum(psum, x1, y1, x2, y2):
    return psum[x2][y2] - psum[x1][y2] -psum[x2][y1] + psum[x1][y1]

min_result = int(21e8)
for i in range(N - K + 1):
    for j in range(M - K + 1):
        sum_w = get_sum(psum_w, i, j, i+K, j+K)
        sum_b = get_sum(psum_b, i, j, i+K, j+K)
        min_result = min(min_result, sum_w, sum_b)

print(min_result)
```

ê²°ê³¼	| ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B)
:----:|:-----:|:-----:|:-----:|:--------:
ì •ë‹µ|394776|PyPy3|1097
#### **ğŸ“í•´ì„¤**

**ì•Œê³ ë¦¬ì¦˜**
```
1. ëˆ„ì í•©
```

### **ë‹¤ë¥¸ í’€ì´**

```python
import sys
input=sys.stdin.readline

N,M,K=map(int,input().split())
a=[[0]*(M+1)for _ in range(N+1)]
r=float('inf')
for i in range(N):
    s=input()
    for j in range(M):
        k,h=i+1,j+1
        a[k][h]=(s[j]=='WB'[(i+j)%2])+a[i][h]+a[k][j]-a[i][j]
        if k>=K and h>=K:c=a[k][h]-a[k-K][h]-a[k][h-K]+a[k-K][h-K];r=min(r,c,K*K-c)

print(r)
```

ì•„ì´ë”” | ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B) 
:-----:|:-----:|:-----:|:----:|:--------:
samminmul|142480|280|PyPy3|347
#### **ğŸ“í•´ì„¤**

```python
N, M, K = map(int, input().split())
board = [list(input()) for _ in range(N)]

# ê°ê° ì™¼ìª½ ìœ„ê°€ í‘, ë°±ì¸ ê²½ìš°, ì…ë ¥ë°›ì€ ì²´ìŠ¤íŒê³¼ ë‹¤ë¥´ë‹¤ë©´ 1, ê°™ë‹¤ë©´ 0ìœ¼ë¡œ ì±„ì›€
start_white = [[0] * M for _ in range(N)]
start_black = [[0] * M for _ in range(N)]

# ì²´ìŠ¤íŒì„ í™•ì¸í•˜ë©´ì„œ
for i in range(N):
    for j in range(M):

        # ìœ„ì¹˜ê°€ í‘ì¸ì§€ ë°±ì¸ì§€ í™•ì¸
        expected_w = "W" if (i + j) % 2 == 0 else "B"
        expected_b = "B" if (i + j) % 2 == 0 else "W"

        # ë°±ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ê²½ìš°, í‘ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ê²½ìš°ë¥¼ ëª¨ë‘ ê³ ë ¤í•´ì„œ ê¸°ì¡´ê³¼ ë‹¤ë¥¸ì§€ í™•ì¸
        if board[i][j] != expected_w:
            start_white[i][j] = 1
        if board[i][j] != expected_b:
            start_black[i][j] = 1

# ë‹¤ë¥¸ ì¹¸ì´ ì–¼ë§ˆë‚˜ ìˆëŠ”ì§€ ëˆ„ì í•©ìœ¼ë¡œ êµ¬í•˜ëŠ” í•¨ìˆ˜
def prefix_sum(arr):
    psum = [[0] * (M+1) for _ in range(N+1)]

    # ì…ë ¥ë°›ì€ ì²´ìŠ¤íŒê³¼ ë‹¤ë¥¸ ì¹¸ì˜ ëˆ„ì  í•©ì„ êµ¬í•¨
    for i in range(N):
        for j in range(M):
            psum[i+1][j+1] = arr[i][j] + psum[i][j+1] + psum[i+1][j] - psum[i][j]
    
    return psum

# í‘ ë°±ì˜ ê²½ìš°ë¥¼ ëª¨ë‘ í™•ì¸
psum_w = prefix_sum(start_white)
psum_b = prefix_sum(start_black)

# íŠ¹ì • êµ¬ê°„ì˜ ëˆ„ì í•©ì„ êµ¬í•˜ëŠ” í•¨ìˆ˜
def get_sum(psum, x1, y1, x2, y2):
    return psum[x2][y2] - psum[x1][y2] -psum[x2][y1] + psum[x1][y1]

# ê²°ê³¼ë¡œ ì‚¬ìš©í•  ë³€ìˆ˜
min_result = int(21e8)

# K * K ë°°ì—´ì„ ëª¨ë‘ í™•ì¸
for i in range(N - K + 1):
    for j in range(M - K + 1):

        # í‘, ë°±ì˜ ê²½ìš°ë¥¼ ëª¨ë‘ êµ¬í•¨
        sum_w = get_sum(psum_w, i, j, i+K, j+K)
        sum_b = get_sum(psum_b, i, j, i+K, j+K)
        min_result = min(min_result, sum_w, sum_b)

# ì¶œë ¥
print(min_result)
```