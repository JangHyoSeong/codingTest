# [1516] ê²Œìž„ ê°œë°œ

### **ë‚œì´ë„**
ê³¨ë“œ 3
## **ðŸ“ë¬¸ì œ**
ìˆŒ íšŒì‚¬ì—ì„œ ì´ë²ˆì— ìƒˆë¡œìš´ ì „ëžµ ì‹œë®¬ë ˆì´ì…˜ ê²Œìž„ ì„¸ì¤€ í¬ëž˜í”„íŠ¸ë¥¼ ê°œë°œí•˜ê¸°ë¡œ í•˜ì˜€ë‹¤. í•µì‹¬ì ì¸ ë¶€ë¶„ì€ ê°œë°œì´ ëë‚œ ìƒíƒœê³ , ì¢…ì¡±ë³„ ê· í˜•ê³¼ ì „ì²´ ê²Œìž„ ì‹œê°„ ë“±ì„ ì¡°ì ˆí•˜ëŠ” ë¶€ë¶„ë§Œ ë‚¨ì•„ ìžˆì—ˆë‹¤.

ê²Œìž„ í”Œë ˆì´ì— ë“¤ì–´ê°€ëŠ” ì‹œê°„ì€ ìƒí™©ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìžˆê¸° ë•Œë¬¸ì—, ëª¨ë“  ê±´ë¬¼ì„ ì§“ëŠ”ë° ê±¸ë¦¬ëŠ” ìµœì†Œì˜ ì‹œê°„ì„ ì´ìš©í•˜ì—¬ ê·¼ì‚¬í•˜ê¸°ë¡œ í•˜ì˜€ë‹¤. ë¬¼ë¡ , ì–´ë–¤ ê±´ë¬¼ì„ ì§“ê¸° ìœ„í•´ì„œ ë‹¤ë¥¸ ê±´ë¬¼ì„ ë¨¼ì € ì§€ì–´ì•¼ í•  ìˆ˜ë„ ìžˆê¸° ë•Œë¬¸ì— ë¬¸ì œê°€ ë‹¨ìˆœí•˜ì§€ë§Œì€ ì•Šì„ ìˆ˜ë„ ìžˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ìŠ¤íƒ€í¬ëž˜í”„íŠ¸ì—ì„œ ë²™ì»¤ë¥¼ ì§“ê¸° ìœ„í•´ì„œëŠ” ë°°ëŸ­ì„ ë¨¼ì € ì§€ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì—, ë°°ëŸ­ì„ ë¨¼ì € ì§€ì€ ë’¤ ë²™ì»¤ë¥¼ ì§€ì–´ì•¼ í•œë‹¤. ì—¬ëŸ¬ ê°œì˜ ê±´ë¬¼ì„ ë™ì‹œì— ì§€ì„ ìˆ˜ ìžˆë‹¤.

íŽ¸ì˜ìƒ ìžì›ì€ ë¬´í•œížˆ ë§Žì´ ê°€ì§€ê³  ìžˆê³ , ê±´ë¬¼ì„ ì§“ëŠ” ëª…ë ¹ì„ ë‚´ë¦¬ê¸°ê¹Œì§€ëŠ” ì‹œê°„ì´ ê±¸ë¦¬ì§€ ì•ŠëŠ”ë‹¤ê³  ê°€ì •í•˜ìž.
### **ìž…ë ¥**
ì²«ì§¸ ì¤„ì— ê±´ë¬¼ì˜ ì¢…ë¥˜ ìˆ˜ N(1 â‰¤ N â‰¤ 500)ì´ ì£¼ì–´ì§„ë‹¤. ë‹¤ìŒ Nê°œì˜ ì¤„ì—ëŠ” ê° ê±´ë¬¼ì„ ì§“ëŠ”ë° ê±¸ë¦¬ëŠ” ì‹œê°„ê³¼ ê·¸ ê±´ë¬¼ì„ ì§“ê¸° ìœ„í•´ ë¨¼ì € ì§€ì–´ì ¸ì•¼ í•˜ëŠ” ê±´ë¬¼ë“¤ì˜ ë²ˆí˜¸ê°€ ì£¼ì–´ì§„ë‹¤. ê±´ë¬¼ì˜ ë²ˆí˜¸ëŠ” 1ë¶€í„° Nê¹Œì§€ë¡œ í•˜ê³ , ê° ì¤„ì€ -1ë¡œ ëë‚œë‹¤ê³  í•˜ìž. ê° ê±´ë¬¼ì„ ì§“ëŠ”ë° ê±¸ë¦¬ëŠ” ì‹œê°„ì€ 100,000ë³´ë‹¤ ìž‘ê±°ë‚˜ ê°™ì€ ìžì—°ìˆ˜ì´ë‹¤. ëª¨ë“  ê±´ë¬¼ì„ ì§“ëŠ” ê²ƒì´ ê°€ëŠ¥í•œ ìž…ë ¥ë§Œ ì£¼ì–´ì§„ë‹¤.
### **ì¶œë ¥**
Nê°œì˜ ê° ê±´ë¬¼ì´ ì™„ì„±ë˜ê¸°ê¹Œì§€ ê±¸ë¦¬ëŠ” ìµœì†Œ ì‹œê°„ì„ ì¶œë ¥í•œë‹¤.
### **ì˜ˆì œìž…ì¶œë ¥**

**ì˜ˆì œ ìž…ë ¥1**

```
5
10 -1
10 1 -1
4 1 -1
4 3 1 -1
3 3 -1
```

**ì˜ˆì œ ì¶œë ¥1**

```
10
20
14
18
17
```

### **ì¶œì²˜**

## **ðŸ§CODE REVIEW**

### **ðŸ§¾ë‚˜ì˜ í’€ì´**

```python
from collections import deque

N = int(input())

build_time = [0] * (N + 1)
total_time = [0] * (N + 1)
indegree = [0] * (N+1)
result = [0] * (N+1)
graph = [[] for _ in range(N + 1)]

for i in range(1, N+1):
    time, *arr = list(map(int, input().split()))
    build_time[i] = time

    for prev in arr[:-1]:
        graph[prev].append(i)
        indegree[i] += 1

q = deque()

for i in range(1, N+1):
    if indegree[i] == 0:
        q.append(i)
        total_time[i] = build_time[i]

while q:
    now = q.popleft()

    for next in graph[now]:
        indegree[next] -= 1
        total_time[next] = max(total_time[next], total_time[now] + build_time[next])

        if indegree[next] == 0:
            q.append(next)

for i in range(1, N+1):
    print(total_time[i])
```

ê²°ê³¼	| ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B)
:----:|:-----:|:-----:|:-----:|:--------:
ì •ë‹µ|34976|96|Python3|767
#### **ðŸ“í•´ì„¤**

**ì•Œê³ ë¦¬ì¦˜**
```
1. DP
2. ìœ„ìƒ ì •ë ¬
```

### **ë‹¤ë¥¸ í’€ì´**

```python
import sys

sys.setrecursionlimit(10 ** 9)

def dfs(idx):
    global dp
    if dp[idx] > 0:
        return dp[idx]
    if len(li[idx]) == 0:
        dp[idx] = time[idx]
        return time[idx]

    for i in li[idx]:
        val = time[idx] + dfs(i)
        if dp[idx] < val:
            dp[idx] = val
    return dp[idx]

N = int(sys.stdin.readline())
time = [0] * (N + 1)
li = [[] for _ in range(N + 1)]
dp = [0] * (N + 1)

for i in range(1, N + 1):
    temp = list(map(int, sys.stdin.readline().split()))
    time[i] = temp[0]
    li[i] = temp[1:-1]

for i in range(1, N + 1):
    if dp[i] == 0:
        dfs(i)

for i in range(1, N + 1):
    print(dp[i])
```

ì•„ì´ë”” | ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B) 
:-----:|:-----:|:-----:|:----:|:--------:
jeong220722|32140|44|Python3|656
#### **ðŸ“í•´ì„¤**

```python
from collections import deque

N = int(input())

# ê±´ë¬¼ì„ ì§“ëŠ” ë° ê±¸ë¦¬ëŠ” ì‹œê°„
build_time = [0] * (N + 1)

# ì•žì„  ê±´ë¬¼ì„ ë‹¤ ì§“ê³  ê±´ë¬¼ì„ ì§“ëŠ”ë° ê±¸ë¦¬ëŠ” ì‹œê°„
total_time = [0] * (N + 1)

# ì„ í–‰ë˜ì–´ì•¼ í•˜ëŠ” ê±´ë¬¼ì˜ ê°œìˆ˜
indegree = [0] * (N+1)

# ì„ í–‰ë˜ì–´ì•¼ í•˜ëŠ” ê±´ë¬¼ì˜ ë²ˆí˜¸ë¥¼ ì €ìž¥
graph = [[] for _ in range(N + 1)]

# ë…¸ë“œ ì¶”ê°€
for i in range(1, N+1):
    time, *arr = list(map(int, input().split()))
    build_time[i] = time

    for prev in arr[:-1]:
        graph[prev].append(i)
        indegree[i] += 1

q = deque()

# ê°€ìž¥ ë¨¼ì € ì§€ì–´ë„ ë˜ëŠ” ê±´ë¬¼ë“¤ì„ ë¨¼ì € í™•ì¸
for i in range(1, N+1):
    if indegree[i] == 0:
        q.append(i)
        total_time[i] = build_time[i]

# BFS
while q:
    now = q.popleft()

    # ë‹¤ìŒ ê±´ë¬¼ë“¤ì„ í™•ì¸
    for next in graph[now]:

        # ì°¨ìˆ˜ë¥¼ ë‚®ì¶”ê³ 
        indegree[next] -= 1

        # ê¸°ì¡´ì— ê±¸ë¦¬ëŠ” ì‹œê°„ê³¼, í˜„ìž¬ ê±¸ë¦¬ëŠ” ì‹œê°„ ì¤‘ í° ê°’ì„ ì„ íƒ
        total_time[next] = max(total_time[next], total_time[now] + build_time[next])

        # ì°¨ìˆ˜ê°€ 0ì´ ëœë‹¤ë©´ íì— ì‚½ìž…
        if indegree[next] == 0:
            q.append(next)

# ì¶œë ¥
for i in range(1, N+1):
    print(total_time[i])
```