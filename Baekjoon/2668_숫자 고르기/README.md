# [2668] ìˆ«ì ê³ ë¥´ê¸°

### **ë‚œì´ë„**
ê³¨ë“œ 5
## **ğŸ“ë¬¸ì œ**
ì„¸ë¡œ ë‘ ì¤„, ê°€ë¡œë¡œ Nê°œì˜ ì¹¸ìœ¼ë¡œ ì´ë£¨ì–´ì§„ í‘œê°€ ìˆë‹¤. ì²«ì§¸ ì¤„ì˜ ê° ì¹¸ì—ëŠ” ì •ìˆ˜ 1, 2, â€¦, Nì´ ì°¨ë¡€ëŒ€ë¡œ ë“¤ì–´ ìˆê³  ë‘˜ì§¸ ì¤„ì˜ ê° ì¹¸ì—ëŠ” 1ì´ìƒ Nì´í•˜ì¸ ì •ìˆ˜ê°€ ë“¤ì–´ ìˆë‹¤. ì²«ì§¸ ì¤„ì—ì„œ ìˆ«ìë¥¼ ì ì ˆíˆ ë½‘ìœ¼ë©´, ê·¸ ë½‘íŒ ì •ìˆ˜ë“¤ì´ ì´ë£¨ëŠ” ì§‘í•©ê³¼, ë½‘íŒ ì •ìˆ˜ë“¤ì˜ ë°”ë¡œ ë°‘ì˜ ë‘˜ì§¸ ì¤„ì— ë“¤ì–´ìˆëŠ” ì •ìˆ˜ë“¤ì´ ì´ë£¨ëŠ” ì§‘í•©ì´ ì¼ì¹˜í•œë‹¤. ì´ëŸ¬í•œ ì¡°ê±´ì„ ë§Œì¡±ì‹œí‚¤ë„ë¡ ì •ìˆ˜ë“¤ì„ ë½‘ë˜, ìµœëŒ€ë¡œ ë§ì´ ë½‘ëŠ” ë°©ë²•ì„ ì°¾ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤. ì˜ˆë¥¼ ë“¤ì–´, N=7ì¸ ê²½ìš° ì•„ë˜ì™€ ê°™ì´ í‘œê°€ ì£¼ì–´ì¡Œë‹¤ê³  í•˜ì.

![ì´ë¯¸ì§€](https://www.acmicpc.net/upload/images/u5JZnfExdtFXjmR.png)

ì´ ê²½ìš°ì—ëŠ” ì²«ì§¸ ì¤„ì—ì„œ 1, 3, 5ë¥¼ ë½‘ëŠ” ê²ƒì´ ë‹µì´ë‹¤. ì²«ì§¸ ì¤„ì˜ 1, 3, 5ë°‘ì—ëŠ” ê°ê° 3, 1, 5ê°€ ìˆìœ¼ë©° ë‘ ì§‘í•©ì€ ì¼ì¹˜í•œë‹¤. ì´ë•Œ ì§‘í•©ì˜ í¬ê¸°ëŠ” 3ì´ë‹¤. ë§Œì•½ ì²«ì§¸ ì¤„ì—ì„œ 1ê³¼ 3ì„ ë½‘ìœ¼ë©´, ì´ë“¤ ë°”ë¡œ ë°‘ì—ëŠ” ì •ìˆ˜ 3ê³¼ 1ì´ ìˆìœ¼ë¯€ë¡œ ë‘ ì§‘í•©ì´ ì¼ì¹˜í•œë‹¤. ê·¸ëŸ¬ë‚˜, ì´ ê²½ìš°ì— ë½‘íŒ ì •ìˆ˜ì˜ ê°œìˆ˜ëŠ” ìµœëŒ€ê°€ ì•„ë‹ˆë¯€ë¡œ ë‹µì´ ë  ìˆ˜ ì—†ë‹¤.
### **ì…ë ¥**
ì²«ì§¸ ì¤„ì—ëŠ” N(1â‰¤Nâ‰¤100)ì„ ë‚˜íƒ€ë‚´ëŠ” ì •ìˆ˜ í•˜ë‚˜ê°€ ì£¼ì–´ì§„ë‹¤. ê·¸ ë‹¤ìŒ ì¤„ë¶€í„°ëŠ” í‘œì˜ ë‘˜ì§¸ ì¤„ì— ë“¤ì–´ê°€ëŠ” ì •ìˆ˜ë“¤ì´ ìˆœì„œëŒ€ë¡œ í•œ ì¤„ì— í•˜ë‚˜ì”© ì…ë ¥ëœë‹¤.
### **ì¶œë ¥**
ì²«ì§¸ ì¤„ì— ë½‘íŒ ì •ìˆ˜ë“¤ì˜ ê°œìˆ˜ë¥¼ ì¶œë ¥í•˜ê³ , ê·¸ ë‹¤ìŒ ì¤„ë¶€í„°ëŠ” ë½‘íŒ ì •ìˆ˜ë“¤ì„ ì‘ì€ ìˆ˜ë¶€í„° í° ìˆ˜ì˜ ìˆœì„œë¡œ í•œ ì¤„ì— í•˜ë‚˜ì”© ì¶œë ¥í•œë‹¤.
### **ì˜ˆì œì…ì¶œë ¥**

**ì˜ˆì œ ì…ë ¥1**

```
7
3
1
1
5
5
4
6
```

**ì˜ˆì œ ì¶œë ¥1**

```
3
1
3
5
```

### **ì¶œì²˜**

## **ğŸ§CODE REVIEW**

### **ğŸ§¾ë‚˜ì˜ í’€ì´**

```python
N = int(input())

arr = [0]
for _ in range(N):
    num = int(input())
    arr.append(num)

visited = [False] * (N + 1)
cycle = set()

def dfs(start: int, current: int, path: list):
    visited[current] = True
    path.append(current)
    next_node = arr[current]

    if not visited[next_node]:
        dfs(start, next_node, path)
    
    else:
        if next_node in path:
            idx = path.index(next_node)
            for node in path[idx:]:
                cycle.add(node)

for i in range(1, N+1):
    if not visited[i]:
        dfs(i, i, [])

print(len(cycle))
for num in sorted(cycle):
    print(num)
```

ê²°ê³¼	| ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B)
:----:|:-----:|:-----:|:-----:|:--------:
ì •ë‹µ|32412|40|Python3|613
#### **ğŸ“í•´ì„¤**

**ì•Œê³ ë¦¬ì¦˜**
```
1. DFS
```
### **ë‹¤ë¥¸ í’€ì´**

```python
import sys


def dfs(start: int, num: int):
    visited.add(num)

    if arr[num] not in visited:
        dfs(start, arr[num])
    elif arr[num] in visited and start == arr[num]:
        answer.append(start)


n = int(sys.stdin.readline())
arr = [0] + [int(sys.stdin.readline()) for _ in range(n)]
answer = []
for i in range(1, n + 1):
    visited = set()
    dfs(i, i)

print(len(answer))
for a in answer:
    print(a)
```

ì•„ì´ë”” | ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B) 
:-----:|:-----:|:-----:|:----:|:--------:
junjange|31120|28|Python3|420
#### **ğŸ“í•´ì„¤**

```python
N = int(input())

# ì¸ë±ì‹±ì„ ìœ„í•´ 0ì„ ë„£ê³  ì‹œì‘
arr = [0]
for _ in range(N):
    num = int(input())
    arr.append(num)

# ë°©ë¬¸ ì—¬ë¶€ë¥¼ ì €ì¥í•  ë¦¬ìŠ¤íŠ¸
visited = [False] * (N + 1)

# ì‚¬ì´í´ì´ ì¡´ì¬í•œë‹¤ë©´, ì–´ë–¤ ë…¸ë“œë“¤ì´ í¬í•¨ë˜ëŠ”ì§€ ì €ì¥í•  set
cycle = set()


# ì¬ê·€ì ìœ¼ë¡œ í˜¸ì¶œë˜ë©´ì„œ DFSë¥¼ í•˜ëŠ” í•¨ìˆ˜
def dfs(start: int, current: int, path: list):

    # í˜„ì¬ ë…¸ë“œì— ë°©ë¬¸ ì²˜ë¦¬
    visited[current] = True
    
    # í˜„ì¬ê¹Œì§€ ë°©ë¬¸í•œ ë…¸ë“œë“¤ì˜ ê²½ë¡œ
    path.append(current)

    # ë‹¤ìŒìœ¼ë¡œ ë°©ë¬¸í•  ë…¸ë“œ
    next_node = arr[current]

    # ë‹¤ìŒ ë°©ë¬¸í•  ë…¸ë“œê°€ ì•„ì§ ë°©ë¬¸í•˜ê¸° ì „ì´ë¼ë©´ ë°©ë¬¸
    if not visited[next_node]:
        dfs(start, next_node, path)
    
    # ì´ë¯¸ ë°©ë¬¸í–ˆì—ˆë‹¤ë©´
    else:

        # ì§€ë‚˜ì˜¨ ê¸¸ì— ìˆë‹¤ë©´
        if next_node in path:

            # ê·¸ ë…¸ë“œ ì´í›„ë¶€í„° ì‚¬ì´í´ì— í¬í•¨
            idx = path.index(next_node)
            for node in path[idx:]:
                cycle.add(node)

# ëª¨ë“  ë…¸ë“œì—ì„œë¶€í„° DFS
for i in range(1, N+1):
    if not visited[i]:
        dfs(i, i, [])

# ì¶œë ¥
print(len(cycle))
for num in sorted(cycle):
    print(num)
```