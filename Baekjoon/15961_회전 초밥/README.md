# [15961] íšŒì „ ì´ˆë°¥

### **ë‚œì´ë„**
ê³¨ë“œ 4
## **ğŸ“ë¬¸ì œ**
íšŒì „ ì´ˆë°¥ ìŒì‹ì ì—ëŠ” íšŒì „í•˜ëŠ” ë²¨íŠ¸ ìœ„ì— ì—¬ëŸ¬ ê°€ì§€ ì¢…ë¥˜ì˜ ì´ˆë°¥ì´ ì ‘ì‹œì— ë‹´ê²¨ ë†“ì—¬ ìˆê³ , ì†ë‹˜ì€ ì´ ì¤‘ì—ì„œ ìê¸°ê°€ ì¢‹ì•„í•˜ëŠ” ì´ˆë°¥ì„ ê³¨ë¼ì„œ ë¨¹ëŠ”ë‹¤. ì´ˆë°¥ì˜ ì¢…ë¥˜ë¥¼ ë²ˆí˜¸ë¡œ í‘œí˜„í•  ë•Œ, ë‹¤ìŒ ê·¸ë¦¼ì€ íšŒì „ ì´ˆë°¥ ìŒì‹ì ì˜ ë²¨íŠ¸ ìƒíƒœì˜ ì˜ˆë¥¼ ë³´ì—¬ì£¼ê³  ìˆë‹¤. ë²¨íŠ¸ ìœ„ì—ëŠ” ê°™ì€ ì¢…ë¥˜ì˜ ì´ˆë°¥ì´ ë‘˜ ì´ìƒ ìˆì„ ìˆ˜ ìˆë‹¤. 

![ì´ë¯¸ì§€](https://upload.acmicpc.net/f29f0bd9-6114-4543-aa72-797208dc9cdd/-/preview/)

ìƒˆë¡œ ë¬¸ì„ ì—° íšŒì „ ì´ˆë°¥ ìŒì‹ì ì´ ë¶ˆê²½ê¸°ë¡œ ì˜ì—…ì´ ì–´ë ¤ì›Œì„œ, ë‹¤ìŒê³¼ ê°™ì´ ë‘ ê°€ì§€ í–‰ì‚¬ë¥¼ í†µí•´ì„œ ë§¤ìƒì„ ì˜¬ë¦¬ê³ ì í•œë‹¤.

1. ì›ë˜ íšŒì „ ì´ˆë°¥ì€ ì†ë‹˜ì´ ë§ˆìŒëŒ€ë¡œ ì´ˆë°¥ì„  ê³ ë¥´ê³ , ë¨¹ì€ ì´ˆë°¥ë§Œí¼ ì‹ëŒ€ë¥¼ ê³„ì‚°í•˜ì§€ë§Œ, ë²¨íŠ¸ì˜ ì„ì˜ì˜ í•œ ìœ„ì¹˜ë¶€í„° kê°œì˜ ì ‘ì‹œë¥¼ ì—°ì†í•´ì„œ ë¨¹ì„ ê²½ìš° í• ì¸ëœ ì •ì•¡ ê°€ê²©ìœ¼ë¡œ ì œê³µí•œë‹¤. 
2. ê° ê³ ê°ì—ê²Œ ì´ˆë°¥ì˜ ì¢…ë¥˜ í•˜ë‚˜ê°€ ì“°ì¸ ì¿ í°ì„ ë°œí–‰í•˜ê³ , 1ë²ˆ í–‰ì‚¬ì— ì°¸ê°€í•  ê²½ìš° ì´ ì¿ í°ì— ì í˜€ì§„ ì¢…ë¥˜ì˜ ì´ˆë°¥ í•˜ë‚˜ë¥¼ ì¶”ê°€ë¡œ ë¬´ë£Œë¡œ ì œê³µí•œë‹¤. ë§Œì•½ ì´ ë²ˆí˜¸ì— ì í˜€ì§„ ì´ˆë°¥ì´ í˜„ì¬ ë²¨íŠ¸ ìœ„ì— ì—†ì„ ê²½ìš°, ìš”ë¦¬ì‚¬ê°€ ìƒˆë¡œ ë§Œë“¤ì–´ ì†ë‹˜ì—ê²Œ ì œê³µí•œë‹¤.    

ìœ„ í• ì¸ í–‰ì‚¬ì— ì°¸ì—¬í•˜ì—¬ ê°€ëŠ¥í•œ í•œ ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ì´ˆë°¥ì„ ë¨¹ìœ¼ë ¤ê³  í•œë‹¤. ìœ„ ê·¸ë¦¼ì˜ ì˜ˆë¥¼ ê°€ì§€ê³  ìƒê°í•´ë³´ì. k=4ì´ê³ , 30ë²ˆ ì´ˆë°¥ì„ ì¿ í°ìœ¼ë¡œ ë°›ì•˜ë‹¤ê³  ê°€ì •í•˜ì. ì¿ í°ì„ ê³ ë ¤í•˜ì§€ ì•Šìœ¼ë©´ 4ê°€ì§€ ë‹¤ë¥¸ ì´ˆë°¥ì„ ë¨¹ì„ ìˆ˜ ìˆëŠ” ê²½ìš°ëŠ” (9, 7, 30, 2), (30, 2, 7, 9), (2, 7, 9, 25) ì„¸ ê°€ì§€ ê²½ìš°ê°€ ìˆëŠ”ë°, 30ë²ˆ ì´ˆë°¥ì„ ì¶”ê°€ë¡œ ì¿ í°ìœ¼ë¡œ ë¨¹ì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ (2, 7, 9, 25)ë¥¼ ê³ ë¥´ë©´ 5ê°€ì§€ ì¢…ë¥˜ì˜ ì´ˆë°¥ì„ ë¨¹ì„ ìˆ˜ ìˆë‹¤. 

íšŒì „ ì´ˆë°¥ ìŒì‹ì ì˜ ë²¨íŠ¸ ìƒíƒœ, ë©”ë‰´ì— ìˆëŠ” ì´ˆë°¥ì˜ ê°€ì§“ìˆ˜, ì—°ì†í•´ì„œ ë¨¹ëŠ” ì ‘ì‹œì˜ ê°œìˆ˜, ì¿ í° ë²ˆí˜¸ê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ì†ë‹˜ì´ ë¨¹ì„ ìˆ˜ ìˆëŠ” ì´ˆë°¥ ê°€ì§“ìˆ˜ì˜ ìµœëŒ“ê°’ì„ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤. 
### **ì…ë ¥**
ì²« ë²ˆì§¸ ì¤„ì—ëŠ” íšŒì „ ì´ˆë°¥ ë²¨íŠ¸ì— ë†“ì¸ ì ‘ì‹œì˜ ìˆ˜ N, ì´ˆë°¥ì˜ ê°€ì§“ìˆ˜ d, ì—°ì†í•´ì„œ ë¨¹ëŠ” ì ‘ì‹œì˜ ìˆ˜ k, ì¿ í° ë²ˆí˜¸ cê°€ ê°ê° í•˜ë‚˜ì˜ ë¹ˆ ì¹¸ì„ ì‚¬ì´ì— ë‘ê³  ì£¼ì–´ì§„ë‹¤. ë‹¨, 2 â‰¤ N â‰¤ 3,000,000, 2 â‰¤ d â‰¤ 3,000, 2 â‰¤ k â‰¤ 3,000 (k â‰¤ N), 1 â‰¤ c â‰¤ dì´ë‹¤. ë‘ ë²ˆì§¸ ì¤„ë¶€í„° Nê°œì˜ ì¤„ì—ëŠ” ë²¨íŠ¸ì˜ í•œ ìœ„ì¹˜ë¶€í„° ì‹œì‘í•˜ì—¬ íšŒì „ ë°©í–¥ì„ ë”°ë¼ê°ˆ ë•Œ ì´ˆë°¥ì˜ ì¢…ë¥˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” 1 ì´ìƒ d ì´í•˜ì˜ ì •ìˆ˜ê°€ ê° ì¤„ë§ˆë‹¤ í•˜ë‚˜ì”© ì£¼ì–´ì§„ë‹¤. 
### **ì¶œë ¥**
ì£¼ì–´ì§„ íšŒì „ ì´ˆë°¥ ë²¨íŠ¸ì—ì„œ ë¨¹ì„ ìˆ˜ ìˆëŠ” ì´ˆë°¥ì˜ ê°€ì§“ìˆ˜ì˜ ìµœëŒ“ê°’ì„ í•˜ë‚˜ì˜ ì •ìˆ˜ë¡œ ì¶œë ¥í•œë‹¤.
### **ì˜ˆì œì…ì¶œë ¥**

**ì˜ˆì œ ì…ë ¥1**

```
8 30 4 30
7
9
7
30
2
7
9
25
```

**ì˜ˆì œ ì¶œë ¥1**

```
5
```

**ì˜ˆì œ ì…ë ¥2**

```
8 50 4 7
2
7
9
25
7
9
7
30
```

**ì˜ˆì œ ì¶œë ¥2**

```
4
```

### **ì¶œì²˜**

## **ğŸ§CODE REVIEW**

### **ğŸ§¾ë‚˜ì˜ í’€ì´**

```python
import sys
from collections import defaultdict

N, d, k, c = map(int, sys.stdin.readline().rstrip().split())
arr = [int(sys.stdin.readline().rstrip()) for _ in range(N)]
arr.extend(arr[:k-1])

current_window = defaultdict(int)
count = 0
max_count = 0

for i in range(k):
    if current_window[arr[i]] == 0:
        count += 1
    current_window[arr[i]] += 1

if current_window[c] == 0:
    max_count = count + 1
else:
    max_count = count

for i in range(1, N):
    removed_sushi = arr[i-1]
    current_window[removed_sushi] -= 1
    if current_window[removed_sushi] == 0:
        count -= 1

    added_sushi = arr[i+k-1]
    if current_window[added_sushi] == 0:
        count += 1
    current_window[added_sushi] += 1

    if current_window[c] == 0:
        max_count = max(max_count, count + 1)
    else:
        max_count = max(max_count, count)

print(max_count)
```

ê²°ê³¼	| ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B)
:----:|:-----:|:-----:|:-----:|:--------:
ì •ë‹µ|165172|764|PyPy3|867
#### **ğŸ“í•´ì„¤**

**ì•Œê³ ë¦¬ì¦˜**
```
1. ìŠ¬ë¼ì´ë”© ìœˆë„ìš°
```

### **ë‹¤ë¥¸ í’€ì´**

```python
import sys
n,d,k,c=map(int,sys.stdin.readline().rstrip().split())
g=[int(sys.stdin.readline().rstrip()) for _ in range(n)]  
v=[0 for _ in range(d+1)]
v[c]=1
for i in range(k):
    v[g[i]]+=1
cnt=d-v.count(0)+1
ans=cnt
for i in range(n):
    v[g[i]]-=1
    if not v[g[i]]:cnt-=1
    try:
        if not v[g[i+k]]:cnt+=1
        v[g[i+k]]+=1
    except:
        if not v[g[i+k-n]]:cnt+=1
        v[g[i+k-n]]+=1
    ans=max(ans,cnt)
print(ans)
```

ì•„ì´ë”” | ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B) 
:-----:|:-----:|:-----:|:----:|:--------:
k550706|134760|556|PyPy3|441
#### **ğŸ“í•´ì„¤**

```python
import sys
from collections import defaultdict

# ì…ë ¥ë°›ê¸°
N, d, k, c = map(int, sys.stdin.readline().rstrip().split())
arr = [int(sys.stdin.readline().rstrip()) for _ in range(N)]

# ìˆœí™˜ì„ ìœ„í•´ì„œ kë§Œí¼ ë’¤ì— ë§ë¶™ì„
arr.extend(arr[:k-1])

# í˜„ì¬ kê°œ ë™ì•ˆ í¬í•¨ëœ ìŠ¤ì‹œë¥¼ ì…€ ë”•ì…”ë„ˆë¦¬
current_window = defaultdict(int)

# í˜„ì¬ ì´ˆë°¥ ì¢…ë¥˜
count = 0

# ìµœëŒ€ ì´ˆë°¥ ì¢…ë¥˜
max_count = 0

# ì¼ë‹¨ ë¦¬ìŠ¤íŠ¸ì˜ ì²˜ìŒë¶€í„° kê°œë§Œí¼ ì´ˆë°¥ì„ ì±„ì›€
for i in range(k):
    # ì•„ì§ í¬í•¨ë˜ì§€ ì•Šì€ ì´ˆë°¥ì˜ ì¢…ë¥˜ë©´ ì¢…ë¥˜ ++
    if current_window[arr[i]] == 0:
        count += 1

    # ì´ ì´ˆë°¥ì˜ ê°œìˆ˜ë¥¼ ëŠ˜ë¦¼
    current_window[arr[i]] += 1

# ë§Œì•½ ì´ë²ˆ ì´ˆë°¥ì—ì„œ ì¿ í° ì´ˆë°¥ì´ í¬í•¨ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´
if current_window[c] == 0:

    # ê°œìˆ˜ë¥¼ í•˜ë‚˜ ëŠ˜ë¦¼
    max_count = count + 1

# í¬í•¨ë˜ì–´ ìˆë‹¤ë©´ ê°œìˆ˜ë¥¼ ëŠ˜ë¦¬ì§€ ì•ŠìŒ
else:
    max_count = count

# ìŠ¬ë¼ì´ë”© ìœˆë„ìš°
for i in range(1, N):

    # ë§¨ ì•ì˜ ì´ˆë°¥ì„ ì œê±°
    removed_sushi = arr[i-1]
    current_window[removed_sushi] -= 1
    if current_window[removed_sushi] == 0:
        count -= 1

    # ì´ˆë°¥ì„ í•˜ë‚˜ ì¶”ê°€
    added_sushi = arr[i+k-1]
    if current_window[added_sushi] == 0:
        count += 1
    current_window[added_sushi] += 1

    if current_window[c] == 0:
        max_count = max(max_count, count + 1)
    else:
        max_count = max(max_count, count)

print(max_count)
```