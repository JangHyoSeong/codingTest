# [19538] ë£¨ë¨¸

### **ë‚œì´ë„**
ê³¨ë“œ 4
## **ðŸ“ë¬¸ì œ**
ë‹¹ì‹ ì€ ë£¨ë¨¸ë¥¼ ë¯¿ëŠ”ê°€?

í•œ ìœ ëª… ì‹¬ë¦¬í•™ ì‹¤í—˜ì—ì„œëŠ” ì‚¬ëžŒë“¤ì—ê²Œ ë‘ ê°œì˜ ì¤„ì„ ë³´ì—¬ì£¼ê³ , ì–´ë–¤ ì¤„ì´ ë” ê¸´ì§€ ë§í•˜ë¼ í–ˆë‹¤. ì‚¬ì‹¤ í•œ ì‚¬ëžŒì„ ì œì™¸í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ì‹¤í—˜ìžì— ì˜í•´ ì‚¬ì „ì— ì¡°ìž‘ëœ ì‚¬ëžŒë“¤ì´ì—ˆë‹¤. ì¡°ìž‘ëœ ì‚¬ëžŒë“¤ì€ ì‚¬ì‹¤ìƒ ë” ì§§ì€ ì¤„ì„ ë” ê¸¸ë‹¤ê³  ë§í–ˆë‹¤. ì£¼ë³€ ëª¨ë‘ê°€ ê°™ì€ ë‹µë³€ì„ í•˜ìž, ì§„ì§œ í”¼ì‹¤í—˜ìž ë˜í•œ ì§§ì€ ì¤„ì´ ë” ê¸¸ë‹¤ê³  ë§í–ˆë‹¤. ì´ ì‹¤í—˜ì€ ì‚¬ëžŒë“¤ì´ ì£¼ë³€ì¸ì˜ ì˜í–¥ì„ ê°•í•˜ê²Œ ë°›ëŠ”ë‹¤ëŠ” ê²ƒì„ ë³´ì—¬ì£¼ì—ˆëŠ”ë°, ë£¨ë¨¸ë„ ì´ì™€ ê°™ë‹¤.

ë£¨ë¨¸ëŠ” ìµœì´ˆ ìœ í¬ìžë¡œë¶€í„° ì‹œìž‘í•œë‹¤. ìµœì´ˆ ìœ í¬ìžëŠ” ì—¬ëŸ¬ ëª…ì¼ ìˆ˜ ìžˆê³ , ìµœì´ˆ ìœ í¬ìžë¥¼ ì œì™¸í•˜ê³  ìŠ¤ìŠ¤ë¡œ ë£¨ë¨¸ë¥¼ ë§Œë“¤ì–´ ë¯¿ëŠ” ì‚¬ëžŒì€ ì—†ë‹¤.

ë§¤ë¶„ ë£¨ë¨¸ë¥¼ ë¯¿ëŠ” ì‚¬ëžŒì€ ëª¨ë“  ì£¼ë³€ì¸ì—ê²Œ ë£¨ë¨¸ë¥¼ ë™ì‹œì— í¼íŠ¸ë¦¬ë©°, êµ°ì¤‘ ì† ì‚¬ëžŒì€ ì£¼ë³€ì¸ì˜ ì ˆë°˜ ì´ìƒì´ ë£¨ë¨¸ë¥¼ ë¯¿ì„ ë•Œ ë³¸ì¸ë„ ë£¨ë¨¸ë¥¼ ë¯¿ëŠ”ë‹¤.

ë£¨ë¨¸ë¥¼ ë¯¿ëŠ” ìˆœê°„ë¶€í„° ë‹¤ë¥¸ ë§ì€ ë“£ì§€ ì•Šê¸° ë•Œë¬¸ì—, í•œë²ˆ ë¯¿ì€ ë£¨ë¨¸ëŠ” ê³„ì† ë¯¿ëŠ”ë‹¤.

ì´ë•Œ, ì‚¬ëžŒë“¤ì´ ë£¨ë¨¸ë¥¼ ì²˜ìŒ ë¯¿ê¸° ì‹œìž‘í•˜ëŠ” ì‹œê°„ì„ ì•Œì•„ë‚´ ë³´ìž.
### **ìž…ë ¥**
ì²«ì§¸ ì¤„ì— ì‚¬ëžŒì˜ ìˆ˜ 
$N$ì´ ì£¼ì–´ì§„ë‹¤. (
$1 \leq N \leq 200\ 000$) ì´ëŠ” 
$1$ë²ˆ ì‚¬ëžŒë¶€í„° 
$N$ë²ˆ ì‚¬ëžŒê¹Œì§€ ìžˆìŒì„ ì˜ë¯¸í•œë‹¤.

ë‘˜ì§¸ ì¤„ë¶€í„° 
$N$ê°œì˜ ì¤„ì´ ì£¼ì–´ì§„ë‹¤. ì´ ì¤‘ 
$i(1 \leq i \leq N)$ë²ˆì§¸ ì¤„ì—ëŠ” 
$i$ë²ˆ ì‚¬ëžŒì˜ ì£¼ë³€ì¸ë“¤ì˜ ë²ˆí˜¸ì™€ ìž…ë ¥ì˜ ë§ˆì§€ë§‰ì„ ë‚˜íƒ€ë‚´ëŠ” 0ì´ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ì£¼ì–´ì§„ë‹¤. ë²ˆí˜¸ëŠ” 
$1$ ì´ìƒ 
$N$ ì´í•˜ì˜ ìžì—°ìˆ˜ì´ê³ , ê°™ì€ ì¤„ì— ì¤‘ë³µëœ ë²ˆí˜¸ëŠ” ì—†ë‹¤. ìžê¸° ìžì‹ ì´ ì£¼ë³€ì¸ì´ê±°ë‚˜ ì¼ë°©ì ìœ¼ë¡œ ì£¼ë³€ì¸ì¸ ê²½ìš°ëŠ” ì—†ìœ¼ë©°, ì „ì²´ ì–‘ë°©í–¥ ì£¼ë³€ì¸ ê´€ê³„ëŠ” 
$1\ 000\ 000$ê°œë¥¼ ë„˜ì§€ ì•ŠëŠ”ë‹¤.

ë‹¤ìŒ ì¤„ì—ëŠ” ë£¨ë¨¸ë¥¼ í¼ëœ¨ë¦¬ëŠ” ìµœì´ˆ ìœ í¬ìžì˜ ìˆ˜ 
$M$ì´ ì£¼ì–´ì§„ë‹¤. 
$(1 \leq M \leq N)$â€Š

ë§ˆì§€ë§‰ ì¤„ì—ëŠ” ìµœì´ˆ ìœ í¬ìžì˜ ë²ˆí˜¸ê°€ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ì£¼ì–´ì§„ë‹¤. ìµœì´ˆ ìœ í¬ìžì˜ ë²ˆí˜¸ëŠ” ì¤‘ë³µë˜ì§€ ì•ŠëŠ”ë‹¤.
### **ì¶œë ¥**
â€Š
$N$ê°œì˜ ì •ìˆ˜ 
$t_1,t_2,\cdots,t_N$ì„ ê³µë°± ë‹¨ìœ„ë¡œ ì¶œë ¥í•œë‹¤. 
$t_i$ëŠ” 
$i$ë²ˆ ì‚¬ëžŒì´ ë£¨ë¨¸ë¥¼ ì²˜ìŒ ë¯¿ê¸° ì‹œìž‘í•œ ì‹œê°„(ë¶„)ì´ë©°, ì¶©ë¶„ížˆ ë§Žì€ ì‹œê°„ì´ ì§€ë‚˜ë„ ë£¨ë¨¸ë¥¼ ë¯¿ì§€ ì•Šì„ ê²½ìš° 
$-1$ì´ë‹¤. ìµœì´ˆ ìœ í¬ìžëŠ” ë£¨ë¨¸ë¥¼ 
$0$ë¶„ë¶€í„° ë¯¿ê¸° ì‹œìž‘í–ˆë‹¤ê³  ìƒê°í•œë‹¤.
### **ì˜ˆì œìž…ì¶œë ¥**

**ì˜ˆì œ ìž…ë ¥1**

```
7
2 3 0
1 3 0
1 2 4 0
3 5 0
4 0
0
0
2
1 6
```

**ì˜ˆì œ ì¶œë ¥1**

```
0 1 2 3 4 0 -1
```

**ì˜ˆì œ ìž…ë ¥2**

```
7
2 4 0
1 3 0
2 5 0
1 5 6 0
3 4 6 7 0
4 5 7 0
5 6 0
1
6
```

**ì˜ˆì œ ì¶œë ¥2**

```
4 4 3 3 2 0 1
```

### **ì¶œì²˜**

## **ðŸ§CODE REVIEW**

### **ðŸ§¾ë‚˜ì˜ í’€ì´**

```python
import sys
from collections import deque

N = int(sys.stdin.readline().rstrip())
edges = [[] for _ in range(N + 1)]

for i in range(1, N + 1):
    edges[i] = list(map(int, sys.stdin.readline().rstrip().split()[:-1]))

M = int(sys.stdin.readline().rstrip())
start = list(map(int, sys.stdin.readline().rstrip().split()))

result = [-1] * (N + 1)
believe_count = [0] * (N + 1)

q = deque()
for person in start:
    result[person] = 0
    q.append(person)

while q:
    now = q.popleft()

    for next in edges[now]:
        if result[next] == -1:
            believe_count[next] += 1

            if believe_count[next] >= (len(edges[next]) + 1) // 2:
                result[next] = result[now] + 1
                q.append(next)

print(" ".join(map(str, result[1:])))
```

ê²°ê³¼	| ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B)
:----:|:-----:|:-----:|:-----:|:--------:
ì •ë‹µ|193408|608|PyPy3|765
#### **ðŸ“í•´ì„¤**

**ì•Œê³ ë¦¬ì¦˜**
```
1. BFS
```

#### **ðŸ“í•´ì„¤**

```python
import sys
from collections import deque

# ìž…ë ¥ë°›ê¸°
N = int(sys.stdin.readline().rstrip())
edges = [[] for _ in range(N + 1)]

# ë§ˆì§€ë§‰ 0ì„ ë¹¼ê³  ì£¼ë³€ì¸ì„ ìž…ë ¥ë°›ìŒ
for i in range(1, N + 1):
    edges[i] = list(map(int, sys.stdin.readline().rstrip().split()[:-1]))

# ë£¨ë¨¸ ìœ í¬ìž ìž…ë ¥
M = int(sys.stdin.readline().rstrip())
start = list(map(int, sys.stdin.readline().rstrip().split()))

# ê²°ê³¼ê°’ (ìœ í¬ê¹Œì§€ ê±¸ë¦° ì‹œê°„)
result = [-1] * (N + 1)

# ì£¼ë³€ì¸ ì¤‘ ë£¨ë¨¸ë¥¼ ë¯¿ëŠ” ì‚¬ëžŒì˜ ìˆ«ìž
believe_count = [0] * (N + 1)

# BFSë¥¼ ìœ„í•´ queueì„ ì–¸, ë£¨ë¨¸ ìœ í¬ìžë¥¼ 0ìœ¼ë¡œ ì´ˆê¸°í™”
q = deque()
for person in start:
    result[person] = 0
    q.append(person)

# BFS
while q:
    now = q.popleft()

    # ì£¼ë³€ì¸ë“¤ì„ ê²€ì‚¬í•˜ë©´ì„œ
    for next in edges[now]:

        # ì•„ì§ ë£¨ë¨¸ë¥¼ ë¯¿ì§€ ì•ŠëŠ”ë‹¤ë©´, ì£¼ë³€ì¸ ë£¨ë¨¸ìœ í¬ìžë¥¼ ++
        if result[next] == -1:
            believe_count[next] += 1

            # ì£¼ë³€ì¸ì˜ ì ˆë°˜ ì´ìƒì´ ë£¨ë¨¸ë¥¼ ë¯¿ëŠ”ë‹¤ë©´ íì— ì¶”ê°€
            if believe_count[next] >= (len(edges[next]) + 1) // 2:
                result[next] = result[now] + 1
                q.append(next)

# ì¶œë ¥
print(" ".join(map(str, result[1:])))
```