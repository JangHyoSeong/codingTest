# [8983] ì‚¬ëƒ¥ê¾¼

### **ë‚œì´ë„**
ê³¨ë“œ 4
## **ğŸ“ë¬¸ì œ**
KOI ì‚¬ëƒ¥í„°ì—ëŠ” N ë§ˆë¦¬ì˜ ë™ë¬¼ë“¤ì´ ê°ê° íŠ¹ì •í•œ ìœ„ì¹˜ì— ì‚´ê³  ìˆë‹¤. ì‚¬ëƒ¥í„°ì— ì˜¨ ì‚¬ëƒ¥ê¾¼ì€ ì¼ì§ì„  ìƒì— ìœ„ì¹˜í•œ M ê°œì˜ ì‚¬ëŒ€(ì´ì„ ì˜ëŠ” ì¥ì†Œ)ì—ì„œë§Œ ì‚¬ê²©ì´ ê°€ëŠ¥í•˜ë‹¤. í¸ì˜ìƒ, ì¼ì§ì„ ì„ x-ì¶•ì´ë¼ ê°€ì •í•˜ê³ , ì‚¬ëŒ€ì˜ ìœ„ì¹˜ x1, x2, ..., xMì€ x-ì¢Œí‘œ ê°’ì´ë¼ê³  í•˜ì. ê° ë™ë¬¼ì´ ì‚¬ëŠ” ìœ„ì¹˜ëŠ” (a1, b1), (a2, b2), ..., (aN, bN)ê³¼ ê°™ì´ x,y-ì¢Œí‘œ ê°’ìœ¼ë¡œ í‘œì‹œí•˜ì. ë™ë¬¼ì˜ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ëª¨ë“  ì¢Œí‘œ ê°’ì€ ì–‘ì˜ ì •ìˆ˜ì´ë‹¤.

ì‚¬ëƒ¥ê¾¼ì´ ê°€ì§€ê³  ìˆëŠ” ì´ì˜ ì‚¬ì •ê±°ë¦¬ê°€ Lì´ë¼ê³  í•˜ë©´, ì‚¬ëƒ¥ê¾¼ì€ í•œ ì‚¬ëŒ€ì—ì„œ ê±°ë¦¬ê°€ L ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ìœ„ì¹˜ì˜ ë™ë¬¼ë“¤ì„ ì¡ì„ ìˆ˜ ìˆë‹¤ê³  í•œë‹¤. ë‹¨, ì‚¬ëŒ€ì˜ ìœ„ì¹˜ xiì™€ ë™ë¬¼ì˜ ìœ„ì¹˜ (aj, bj) ê°„ì˜ ê±°ë¦¬ëŠ” |xi-aj| + bjë¡œ ê³„ì‚°í•œë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ì•„ë˜ì˜ ê·¸ë¦¼ê³¼ ê°™ì€ ì‚¬ëƒ¥í„°ë¥¼ ìƒê°í•´ ë³´ì. (ì‚¬ëŒ€ëŠ” ì‘ì€ ì‚¬ê°í˜•ìœ¼ë¡œ, ë™ë¬¼ì˜ ìœ„ì¹˜ëŠ” ì‘ì€ ì›ìœ¼ë¡œ í‘œì‹œë˜ì–´ ìˆë‹¤.) ì‚¬ì •ê±°ë¦¬ Lì´ 4ë¼ê³  í•˜ë©´, ì ì„ ìœ¼ë¡œ í‘œì‹œëœ ì˜ì—­ì€ ì™¼ìª½ì—ì„œ ì„¸ ë²ˆì§¸ ì‚¬ëŒ€ì—ì„œ ì‚¬ëƒ¥ì´ ê°€ëŠ¥í•œ ì˜ì—­ì´ë‹¤.

[ì´ë¯¸ì§€](https://upload.acmicpc.net/80de7dba-b822-4f30-b833-de3071af385b/-/preview/)

ì‚¬ëŒ€ì˜ ìœ„ì¹˜ì™€ ë™ë¬¼ë“¤ì˜ ìœ„ì¹˜ê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ì¡ì„ ìˆ˜ ìˆëŠ” ë™ë¬¼ì˜ ìˆ˜ë¥¼ ì¶œë ¥í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.
### **ì…ë ¥**
ì…ë ¥ì˜ ì²« ì¤„ì—ëŠ” ì‚¬ëŒ€ì˜ ìˆ˜ M (1 â‰¤ M â‰¤ 100,000), ë™ë¬¼ì˜ ìˆ˜ N (1 â‰¤ N â‰¤ 100,000), ì‚¬ì •ê±°ë¦¬ L (1 â‰¤ L â‰¤ 1,000,000,000)ì´ ë¹ˆì¹¸ì„ ì‚¬ì´ì— ë‘ê³  ì£¼ì–´ì§„ë‹¤. ë‘ ë²ˆì§¸ ì¤„ì—ëŠ” ì‚¬ëŒ€ì˜ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” Mê°œì˜ x-ì¢Œí‘œ ê°’ì´ ë¹ˆì¹¸ì„ ì‚¬ì´ì— ë‘ê³  ì–‘ì˜ ì •ìˆ˜ë¡œ ì£¼ì–´ì§„ë‹¤. ì´í›„ Nê°œì˜ ê° ì¤„ì—ëŠ” ê° ë™ë¬¼ì˜ ì‚¬ëŠ” ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¢Œí‘œ ê°’ì´ x-ì¢Œí‘œ ê°’, y-ì¢Œí‘œ ê°’ì˜ ìˆœì„œë¡œ ë¹ˆì¹¸ì„ ì‚¬ì´ì— ë‘ê³  ì–‘ì˜ ì •ìˆ˜ë¡œ ì£¼ì–´ì§„ë‹¤. ì‚¬ëŒ€ì˜ ìœ„ì¹˜ê°€ ê²¹ì¹˜ëŠ” ê²½ìš°ëŠ” ì—†ìœ¼ë©°, ë™ë¬¼ë“¤ì˜ ìœ„ì¹˜ê°€ ê²¹ì¹˜ëŠ” ê²½ìš°ë„ ì—†ë‹¤. ëª¨ë“  ì¢Œí‘œ ê°’ì€ 1,000,000,000ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ì–‘ì˜ ì •ìˆ˜ì´ë‹¤.
### **ì¶œë ¥**
ì¶œë ¥ì€ ë‹¨ í•œ ì¤„ì´ë©°, ì¡ì„ ìˆ˜ ìˆëŠ” ë™ë¬¼ì˜ ìˆ˜ë¥¼ ìŒìˆ˜ê°€ ì•„ë‹Œ ì •ìˆ˜ë¡œ ì¶œë ¥í•œë‹¤.
### **ì˜ˆì œì…ì¶œë ¥**

**ì˜ˆì œ ì…ë ¥1**

```
4 8 4
6 1 4 9
7 2
3 3
4 5
5 1
2 2
1 4
8 4
9 4
```

**ì˜ˆì œ ì¶œë ¥1**

```
6
```

**ì˜ˆì œ ì…ë ¥2**

```
1 5 3
3
2 2
1 1
5 1
4 2
3 3
```

**ì˜ˆì œ ì¶œë ¥2**

```
5
```

### **ì¶œì²˜**

## **ğŸ§CODE REVIEW**

### **ğŸ§¾ë‚˜ì˜ í’€ì´**

```python
import sys
import bisect

M, N, L = map(int, sys.stdin.readline().rstrip().split())
shooting_places = list(map(int, sys.stdin.readline().rstrip().split()))
animals = [tuple(map(int, sys.stdin.readline().rstrip().split())) for _ in range(N)]

shooting_places.sort()
count = 0

for animal in animals:
    x, y = animal

    if y > L:
        continue

    left = x - (L - y)
    right = x + (L - y)

    idx = bisect.bisect_left(shooting_places, left)

    if idx < M and shooting_places[idx] <= right:
        count += 1
    
print(count)
```

ê²°ê³¼	| ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B)
:----:|:-----:|:-----:|:-----:|:--------:
ì •ë‹µ|127636|216|PyPy3|537
#### **ğŸ“í•´ì„¤**

**ì•Œê³ ë¦¬ì¦˜**
```
1. ì´ë¶„íƒìƒ‰
```

### **ë‹¤ë¥¸ í’€ì´**

```python
import sys

input = sys.stdin.readline


m, n, shotRange = map(int, input().split())
spots = sorted(list(map(int, input().split())))

answer = 0
for _ in range(n):
    x, y = map(int, input().split())

    minSpot = x + y - shotRange
    maxSpot = x - y + shotRange

    left = 0
    right = m - 1

    while left <= right:
        mid = (left + right) // 2

        if minSpot <= spots[mid] <= maxSpot:
            answer += 1
            break
        elif maxSpot < spots[mid]:
            right = mid - 1
        else:
            left = mid + 1

print(answer)
```

ì•„ì´ë”” | ë©”ëª¨ë¦¬(KB) |	ì‹œê°„(ms) |	ì–¸ì–´ |	ì½”ë“œ ê¸¸ì´(B) 
:-----:|:-----:|:-----:|:----:|:--------:
codeer|126916|188|PyPy3|565
#### **ğŸ“í•´ì„¤**

```python
import sys
import bisect

M, N, L = map(int, sys.stdin.readline().rstrip().split())
shooting_places = list(map(int, sys.stdin.readline().rstrip().split()))
animals = [tuple(map(int, sys.stdin.readline().rstrip().split())) for _ in range(N)]

# ì‚¬ëŒ€ë¥¼ ì´ë¶„ íƒìƒ‰ì„ ìœ„í•´ ì •ë ¬í•¨
shooting_places.sort()
count = 0

# ëª¨ë“  ë™ë¬¼ë“¤ì„ ê²€ì‚¬
for animal in animals:
    x, y = animal

    # ë§Œì•½ yì¢Œí‘œë§Œìœ¼ë¡œ ì‚¬ì •ê±°ë¦¬ë¥¼ ë²—ì–´ë‚œë‹¤ë©´ ì ˆëŒ€ ë§ì¶œìˆ˜ ì—†ìœ¼ë‹ˆ ë„˜ì–´ê°
    if y > L:
        continue
    
    # ì´ ë™ë¬¼ì„ ë§ì¶œ ìˆ˜ ìˆëŠ” ì‚¬ëŒ€ì˜ ìµœì†Œ x ì¢Œí‘œ
    left = x - (L - y)
    # ìµœëŒ€ x ì¢Œí‘œ
    right = x + (L - y)

    # ì´ë¶„íƒìƒ‰ì„ í†µí•´ ì‚¬ëŒ€ì˜ ì¢Œí‘œë¥¼ ì°¾ìŒ
    idx = bisect.bisect_left(shooting_places, left)

    # idxê°€ Mì¸ ê²½ìš° ë²”ìœ„ì— í¬í•¨ë˜ì§€ ì•ŠìŒ
    if idx < M and shooting_places[idx] <= right:
        count += 1
    
print(count)
```